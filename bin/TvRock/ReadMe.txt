HD予約録画マネージャ - TvRock.

　使用方法は

　http://1st.geocities.jp/tvrock_web/help.html#top

　を参照してください。

　不具合・御要望はメール　tvrock.web@gmail.com でのみ受け付けています。


　不利男のみ御使用の方は添付の"FTune.bat"実行で簡易セットアップを開始できます。

　TvRockDTVターゲットのみ御使用の方は添付の"DTune.bat"実行で簡易セットアップを開始できます。


2009/12/27
TvRock Ver 0.9t8a
------------------------------------
　○ウェイト変更


2009/12/23
TvRock Ver 0.9t8
------------------------------------
　○番組情報ファイルの読み込み時にタイムスタンプが正しく取得できず
　　番組時間変更時の時間調整（追従）が行われない不具合の修正

　　かなり前のバージョン（おそらく0.9sあたり）からおかしくなっていたようなので修正しました。
　　今まではリアルタイム追従(R)の方ばかりで追従が補われていた部分が多いと思います。
　　単体の予約ならばあまり問題はありませんでしたが複数連続で予約が入っていた場合は
　　調整されない不具合があったはずです。

　○キーワード検索・期限設定時に来年のみの指定範囲で正しく検索できない不具合の修正

　○システム設定・キーワード検索の最大数を25件単位で変更できるようにしました。

　○インテリジェント・おまかせ番組情報取得を追加（テストバージョン）
　　番組情報取得をTvRockにすべてまかせてしまうモードです。
　　これをONにした時は今までの番組情報取得スケジュールは削除してください。
　　逆にあまりうまくいかなければ今まで通り番組情報取得スケジュールで行ってください。	

　　レベル１・（毎日取得のみ）	…　番組情報取得スケジュールの変わりになるものです。
　　レベル２・（１時間前）	…　予約の１時間前と２０分前に必要な分だけ番組情報取得を行います。
　　レベル３・（３時間前）	…　予約の３時間前に必要な分だけ番組情報取得を行います。
　　レベル４・（６時間前から１時間毎）	…　予約の６時間前から１時間毎に必要な分だけ番組情報取得を行います。

　　●レベルは上であるほどその下のものも全て含みます。
　　　レベル３であれば３時間前・１時間前・２０分前・毎日取得を行う形です。

　　●おまかせ番組情報取得のスケジュールはデバイス毎に割り当てられます。

　　●おおまかに日中と夜中で行動を別けています。
　　　日中　…　通常の番組情報取得
　　　夜中　…　予約分の必要なチャンネルだけ取得

　　●既に予約が有り重複になるような場合は番組情報取得は割り当てられません。

　　あくまでも時間繰上げの時間調整が目的で繰り下げに対しては今まで通りで大丈夫です。、
　　使用しているとちょっと目障りなところがあるので時間変更が気になる人だけ試してみてください。

　○番組情報取得スケジュールの上に予約を重ねる場合は重複扱いにしないように変更しました。

　○その他メール頂いて溜まってた分の不具合修正と調整。


2009/12/09
TvRock Ver 0.9t7
------------------------------------
　○TvRockDTVターゲットの調整

　○twitter
　　視聴つぶやき関連のオプションを追加しました。
　　視聴つぶやきを30秒ほど視聴した後につぶやくように遅延を入れました。
　　スパム扱いになるそうなので録画情報の@tvrockをはずしました。
　　録画情報のScrambleはあまり意味が無いので省きました。


2009/11/8
TvRock Ver 0.9t6
------------------------------------
　○同期処理・スケジュールの共有部を一部修正

　○その他調整


2009/11/6
TvRock Ver 0.9t5
------------------------------------
　○録画終了後コマンド・ファイル名のパラメータが同時録画時に違うファイル名に変化してしまう不具合の修正

　○インテリジェント・タイムラインブラウザの追加
　　twitterアカウントを設定することにより選局している番組やチャンネルのタイムラインを表示
　　および書き込みが可能です。
　　テストボードは書き込みテスト等で使用してみてください。
　　twitterの検索漏れが多いのとtwitterウィジットは更に動作が怪しいので
　　書き込んでもBBSに表示されないことが多いです。
　　自分のプロフィールには表示されると思います。
　　難有り。


2009/10/22
TvRock Ver 0.9t4
------------------------------------
　○TvRock番組表・過去番組表にキーワード検索を追加
　　過去番組表の表示モード選択欄にキーワード検索のリンクがあるのでそこから過去番組のキーワード検索を行えます。
　　ファイルアクセスによる負荷が大きくなると思うので録画の際には気をつけて下さい。

　○TvRock番組表・スケジュール編集でサブタイトルが長いと溢れてしまう不具合の修正（再修正）

　○予約リストの表示に日毎の区切りを表示できるようにしました。
　　設定画面・システム設定・メニュー予約リストで"予約リストを日付で区切る"でON/OFFできます。（TvRock番組表の予約リストにも反映されます）

　○録画終了後コマンドで次の予約が〜分以内の場合は終了後コマンドを中断する項目を追加しました。
　　既に実行されているプロセスは中断しませんので一つの処理にかかりそうな時間分を設定してください。

　○タスクスケジューラを先頭８個までに制限して登録するように変更

　○復帰タイマーの修正

　○ツール・削除ツールで検索予約リストが複数削除できない不具合の修正

　○アプリケーション起動待ちのタイムアウト値を変更しました。

　○Rockプラグによるアプリケーションの起動ができなくなっていた不具合の修正

　○タイムキーパー・表示するモニタを指定できるようにしました。
　　設定画面・インテリジェントでモニタ番号を指定してください。

　○TvRock番組表・過去番組を保存していく際に直近の情報は更新されませんでしたが更新されるように変更しました。

　○TvRock番組表・予約リストにサブタイトルと出力ファイル名を表示できるモードを追加

　○twitter機能(テストバージョン)
　　twitterに視聴・録画等の情報を自動でつぶやける機能のテストバージョンを実装しました。
　　設定画面・twitterタブで自分のtwitterのアカウント・パスワードを設定してつぶやく項目を好みで設定してください。
　　本実装はまた次の機会で。

　○TvRock番組表・twitterリンクの追加(テストバージョン)
　　ツール・TvRock番組表エディタでON/OFFできます。

　○録画終了後コマンドのパラメータにtwitterハッシュタグの"%g"を追加


2009/8/24
TvRock Ver 0.9t3
------------------------------------
　○メモリリークしていた不具合の修正


2009/8/7
TvRock Ver 0.9t2
------------------------------------
　○TvRockDTVターゲット・不利男プラグイン修正・更新版


2009/7/31
TvRock Ver 0.9t
------------------------------------
　○キーワード検索・あいまい検索機能の追加
　　キーワード検索予約時に番組情報による誤字脱字で予約がすり抜けてしまう問題を回避するため
　　キーワードによる検索を曖昧に判定し予約登録を行える機能を追加しました。
　　キーワード検索の"あいまい"にチェックが入っているとキーワードを曖昧に判定します。

　　●"あいまい"検索機能は正規表現時や否定キーワードを組み合わせた時には機能しません。

　　●"あいまい"検索機能は現在のところタイトルキーワードにしか機能しません。
　　　詳細キーワードには"あいまい"検索機能は適用されません。

　　●単語の文字数が少なすぎると曖昧すぎて本来予約したいものよりも多く別な予約を追加してしまう
　　　可能性が高いので番組タイトルをある程度完全な形で登録しておくと良いと思います。

　　　例："機動戦士ガンダム"　→　○
	　"ガンダム"　　　　　→　×　（曖昧すぎる）

　　　曖昧すぎる場合は"あいまい"検索をOFFにして下さい。

　　●"あいまい"検索スイッチはRockコードにも適用されます。
　　　但し機能を使用する場合はVer0.9t以上でないと動作しません。

　○アプリケーションブート部の呼び出し方法を変更

　○タイムキーパー・ステータスバーの表示
　　緑・メモリ使用量
　　黄・保存先ディスク使用量
　　赤・録画プログレス

　　同期したコンピュータのステータスも表示されます。

　○TvRock番組表・番組表内に予約リストを表示できるようにしました。
　　メニュー・ツールの「TvRock番組表エディタ」で表示・非表示を切り替えてください。

　○ツール・削除ツールの追加

　○その他細かい不具合の修正


2009/6/19
TvRock Ver 0.9s5
------------------------------------
　○「連続した予約は録画を停止しない」場合の録画終了後の実行コマンドがうまく機能していない不具合の修正

　○連続した予約でアプリケーションを終了させない場合、通常録画とワンセグ録画で切り替えが行えない問題の修正

　○TvRock番組表・番組表内に新番組と最終回番組を表示できるようにしました
　　メニュー・ツールの「TvRock番組表エディタ」で表示・非表示を切り替えてください。

　○その他細かい不具合の修正


2009/5/1
TvRock Ver 0.9s4
------------------------------------
　○最大予約数を可変に
　　設定・システム画面で最大8192件まで変更できます。
　　最大数を変更するとメモリ使用量が増大するので気をつけてください。

　○キーワード検索・検索数を可変に
　　設定・システム画面で最大1000件まで変更できます。

　○キーワード検索予約数を最大1024に変更

　○スケジュール再構成の再構成受付時間を予約の５分前までに変更（同期時に対する対策）

　○スケジュール再構成にTvRock番組表から[予約]ボタンを押した予約に対しての再構成を追加

　○バックアップ録画・録画デバイスを一つしか見ていなかったので全デバイスを対象に修正

　○キーワード検索予約・"既に予約されている番組は登録しない"の不具合修正
　　二重の予約をしたくない場合は番組が被りそうなキーワードに全てチェックを入れてください。

　○インテリジェント・補助録画の追加
　　補助録画をONにすると同期した他のＰＣの予約を予備として同時録画開始します。
　　既に予約が埋まっている場合は実行されません。
　　（機能はほぼバックアップ録画と同じですがバックアップ録画と違うのは同期接続中でも録画します）

　○録画終了後コマンドにバックアップ/補助録画用コマンド"BR:"および"B1"〜"B8"を追加

　○TvRock番組表・携帯用番組表の追加（テストバージョン）
　　アドレスはデフォルトの場合"http://127.0.0.1:8969/nobody/mobile"になります。

　○ごく稀に録画が途切れてしまうことがある不具合の修正 (長い間不明だったバグ)

　○"タイムゾーン(JST-9)を設定"がTvRock内部時間を追加した際に意味のないものになってしまっていた不具合の修正

　○録画終了後コマンドのパラメータに番組情報・タイトルの"%d"を追加

　○録画終了後コマンドのパラメータに番組情報・番組内容の"%e"を追加

　○録画終了後コマンドのパラメータに番組情報・番組詳細の"%f"を追加

　○細かい不具合の修正


2009/4/3
TvRock Ver 0.9s3
------------------------------------
　○設定画面・待機時間デフォルトの操作が不能になっていた不具合の修正


2009/3/29
TvRock Ver 0.9s2
------------------------------------
　○TvRockDTVターゲット・通常時とワンセグサービス指定が入れ替わってしまっていた不具合の修正

　○TvRock起動時に"-FORCE"オプションを指定することで強制Rockバーモードに移行


2009/3/27
TvRock Ver 0.9s
------------------------------------
　○ワンセグモードの追加
　　ワンセグ視聴・録画モードを実装しました。
　　TvRockDTVターゲットである"TVH264.exe"や"RecTest.exe"の
　　ワンセグ状態の予約が行えるようになります。

　　設定：
　　　設定・チューナー欄のTvRockDTVターゲットの設定に
　　　"ワンセグ（視聴・有）"
　　　"ワンセグ（視聴・無）"
　　　の新たな設定項目があります。
　　　この２つにワンセグの視聴・録画用のセッティングをしてください。

　　　例：

　　  ワンセグ(視聴・有) : TVH264.exe
　　　　　　　オプション : /d BonDriver_***.dll /DID A　

　　  ワンセグ(視聴・無) : RecTest.exe
　　　　　　　オプション : /tvrock /d BonDriver_***.dll /rec1seg /DID A　　　

　　　設定できたらRockバーのデバイス欄から起動したいデバイスをまず選択し、
　　　そのデバイスを右クリックするとメニューが出てきます。

　　　"アプリケーションの起動 (視聴・有)"
　　　"アプリケーションの起動 (視聴・無)"
　　　"ワンセグの起動 (視聴・有)"
　　　"ワンセグの起動 (視聴・無)"
　　　でそれぞれのセッティングで起動ができるようになります。

　　　"操作モード・アプリケーション"
　　　"操作モード・ワンセグ"
　　　はそれぞれRockバーの電源（またはデバイス名をダブルクリック）・録画ボタンで
　　　どちらのモード使用するか選択できます。

　　　●チャンネル
　　　　最初は"TVH264.exe"を起動してもチャンネルは選択できません。
　　　　まず先にTVTestや不利男のフルセグ状態で地上波の番組情報を取得してください。
　　　　取得し終えた後で"TVH264.exe"でチャンネル切り替え操作が行えるようになります。
　　　　同時にワンセグの番組情報も取得されています。

　　　●予約
　　　　TvRock番組表を見ると放送波の選択に地上波・BS・CSの選択以外に"ワンセグ"欄が増えています。
　　　　地上波の番組情報取得後にワンセグ用の番組表を見ることができます。
　　　　（ワンセグ番組表は数時間しか無いため殆ど使い物にならないかもしれませんが
　　　　　本放送と違う番組がこれから先増えていくためこの欄が設けてあります）

　　　　通常と同じやり方で予約し、予約設定で"ワンセグ録画"にチェックを入れると
　　　　ワンセグ録画モードになります。（ワンセグ録画用の設定でアプリが起動）
　　　　キーワード検索予約でも"ワンセグ録画"で同様の動作になります。

　　　　メニュー・ツールの"TvRock番組表エディタ"で"ワンセグ予約"にチェックを入れると
　　　　TvRock番組表の[予約]ボタンの横に [ワンセグ]ボタンが出てきます。
　　　　クリック一発でワンセグ録画予約の設定になります。

　　　●ワンセグ用録画終了後実行コマンドの追加
　　　　通常チューナーの録画終了後実行コマンドは"TN"と"T1〜T8"ですが、
　　　　ワンセグ用のコマンドは"OS"と"S1〜S8"に設定されています。
　　　　録画したファイルをmp4等に変換したりするのに有効です。

　　　●不利男の場合
　　　　不利男の場合ワンセグ録画モードは通常のフルセグ録画と変わりません。
　　　　フルセグから録画終了後コマンド(OS,S1〜S8)でh264ファイルだけを抜き出すようなコマンドを
　　　　設定しておけば予約を状況別けできるようになります。


　　　●プライオリティ
　　　　ワンセグの予約はプライオリティが低い予約と判断しているのでデフォルトは"-1"に設定しています。
　　　　設定画面・録画基本設定・"ワンセグ予約・プライオリティ"で変更できます。

　　　●注意
　　　　※ワンセグモードは"TvRockからのファイル出力"は無効になります
　　　　※MXテレビのワンセグ２チャンネル放送には今のところ対応してません
　　　　※今のところワンセグ番組情報からの予約は時間追従ができません。

　　　基本的にワンセグ予約は録っても録らなくてもいいような番組を予約別けできるようにしたものです。
　　　容量が気にならないので気軽に予約ができるように追加しました。

　○録画終了後コマンドのパラメータに番組ジャンル情報の"%c"を追加

　○視聴予約・番組情報取得スケジュールでカスタムコマンドが実行できない不具合の修正

　○TvRock番組表・ムービー再生欄の追加（テストバージョン）
　　ムービーフォルダにあるファイルをQuickTimeで再生できます。(mp4,3gp,mp3等)
　　ムービーフォルダは設定・システム設定の"ムービーフォルダ"で指定できます。

　○キーワード検索・検索ヒット数最大を500件に変更

　○キーワード検索・ワンセグ検索の追加
　　"ワンセグ検索"にチェックを入れるとワンセグの番組情報を検索するようになります。
　　番組情報が数時間しかないためこまめに番組情報を取得しないとあまり使えません。

　○キーワード検索予約・"既に予約されている番組は登録しない"を追加

　○TvRock番組表の整形・最適化

　○スリープタイマー・ネットワーク使用率を追加
　　ネットワークは振幅が狭いので1000%換算にしてあります。

　○デバイス名エディタの実装
　　メニュー・ツールから"デバイス名エディタ"でRockバー等に表示されるデバイス名を
　　自分の好きな名前に変更できます。


2009/3/7
TvRock Ver 0.9r16
------------------------------------
　○FTuneとDTuneのダイアログがおかしくなっていた不具合の修正

　○システム設定・"内部時計を放送波時刻に合わせる"に"内部時計調整範囲"を付け調整範囲を設けました

　○TvRock番組表・番組詳細が文字化けしてしまう不具合を更に修正


2009/3/5
TvRock Ver 0.9r15
------------------------------------
　○タスクスケジューラの登録不具合の修正

　○バックアップ録画の不具合修正

　○TvRock番組表・番組詳細が文字化けしてしまう不具合の修正


2009/2/28
TvRock Ver 0.9r14
------------------------------------
　○キャプチャプラグインでスケジュール時に選局が行われない不具合の修正

　○録画基本設定に"重複判断を待機時間まで含める"を追加

　○システム設定に"TvRock内部時計を放送波時刻に合わせる"を追加

　○システム設定に"スリープ抑制時間"を追加

　○メニュー・インテリジェントに"バックアップ録画"を追加
　　同期時に片方のコンピュータで予約時間が来た時に同期接続が確認できない場合、
　　チェックしたPC側が相手側コンピュータの録画を肩代わりする機能です。
　　その時間帯に他に予約がある場合は実行されません。

　○TvRock番組表・番組表に"番組内容自動表示"および"番組詳細自動表示"を追加

　○タイムキーパー・マウスがタイムキーパー上にある場合隠すようにしました

　○その他調整


2009/2/11
TvRock Ver 0.9r13
------------------------------------
　○タスクマネージャー登録時のファイル名規則を変更
　　特定のタスク名の時に登録失敗することがあるためタスク名を変更しました。


2009/2/7
TvRock Ver 0.9r12
------------------------------------
　○同期時にMACアドレスが受け渡されていない不具合の修正

　○ログ出力に"詳細ログを出力しない"を追加しました

　○その他細かい不具合の修正と調整


2009/1/31
TvRock Ver 0.9r11
------------------------------------
　○録画終了後のスリープおよびシャットダウンへ移行しない不具合の修正


2009/1/29
TvRock Ver 0.9r10
------------------------------------
　○TvRock番組表・"予約登録・変更"のバッファが足りず、長いサブタイトルを編集するとエラーになってしまう不具合の修正

　○同期処理・セッティングの受け渡し不具合の修正と調整

　○TvRockアイコン・ショートカットにキーワード検索予約を設定できるようにしました。

　○TvRock番組表・ジャンル別週間番組表を追加
　　番組表ジャンル横の">>"で週間番組表が表示できます

　○スリープ移行時にスリープタイマーモードの状態をチェックするようにしました

　○録画終了後コマンド実行時のスレッド数を指定できるようにしました
　　今までは録画終了後コマンドが発行されるたびにスレッドが生成されていましたが
　　設定画面・プロセス欄の"録画終了後コマンド数"でスレッドの数を設定できるようにしました。
　　スレッドを１つに設定した場合、録画終了後の実行コマンドは一つずつ実行されていきます。
　　また、これと同時に"予約時間内は録画終了後コマンドを実行しない"を追加しました。

　○実行されなかった予約をログに表示するようにしました

　○その他調整



2009/1/10
TvRock Ver 0.9r9
------------------------------------
　○TvRock番組表・キーワード検索時の日付設定が足りない不具合の修正

　○TvRock番組表・"経過した番組を全て記録する"の状態で、過去番組表のリストが更新されない不具合の修正
　　今までのは記録自体はできていると思います。

　○TvRock番組表・ログの表示をUTF8に変更

　○TvRock番組表・"プライベートネットワークは認証を必要としない"を追加
　　設定・インテリジェントのTvRock番組表で変更できます。

　○TvRock番組表・番組表の幅を設定できるように追加
　　番組表の幅をツール・TvRock番組表エディタで変更できます。

　○TvRock番組表・放送種別をイメージ化できるようにしました
　　TvRock番組表エディタで設定できます。

　○TvRockDTVターゲット・強制終了時のタイムアウト値を設定できるようにしました

　○その他細かい不具合の修正

　○TvRock番組表 for iPhone　[テスト版]
　　iPhone用にカスタマイズしたTvRock番組表を作成中で、リモコン型番組表になっています。
　　とりあえずテスト版を作成してみました。
　　デフォルトアドレスの場合

　　http://localhost:8969/nobody/iphone

　　にアクセスすると使用できるようになります。
　　iPhoneやiPod Touchでリモコンとして使用できるはずです。
　　ＰＣ上でブラウジングするにはSafariかChromeで使用できると思います。
　　TvRock番組表 for iPhoneとPC-OP-RS1を使用すると　

　　　iPhone == Wi-Fi ==> サーバ == 赤外線（外部録画）==> テレビ

　　のようなiPhoneを使用した赤外線リモコンとしての使用法も可能です。


2008/12/25
TvRock Ver 0.9r8
------------------------------------
　○番組情報取得スケジュール・番組情報が中途半端に取得される不具合の修正

　○予約時のコマンド実行選択欄にT4からT8が表示されていた不具合の修正

　○TvRockDTVターゲット・外部による終了処理を追加
　　TvRockDTVターゲットの終了処理をライブラリ内部から呼び出すのではなく
　　外部からクローズするように追加しました。
　　チューナー・TvRock DTV Target設定の"終了処理を外部から行う"にチェックを入れると働きます。
　　（処理はターゲットからウィンドウハンドルを取得しTvRock側からCLOSEを投げます）

　○TvRockDTVターゲット・終了しない場合は強制終了させるように追加
　　終了処理を行ってもアプリケーションが閉じない場合は強制終了させます。
　　チューナー・TvRock DTV Target設定の"終了しない場合は強制終了"にチェックを入れると働きます。

　○ファイル名置換・ナンバリング表記に漢数字"@knb"とローマ数字"@rnb"を追加

　○TvRock番組表の操作を多少修正、およびツール・TvRock番組表エディタの項目を追加
　　番組表に表示するチャンネル数を調整できるのと、番組タイトルを小さくできようにしました。

　○ヘルプの改訂版をアップ


2008/12/20
TvRock Ver 0.9r7
------------------------------------
　○TvRockDTVライブラリ・受信放送波の設定を正しく取得できていない不具合の修正

　○TvRock番組表・利便性の向上

　○TvRock番組表・番組情報を記録していくモードを追加
　　設定・インテリジェントのTvRock番組表のところに"経過した番組情報を全て記録する"にチェックを入れると
　　現在から１〜３日程度の番組情報を番組情報が更新される度に保存していきます。
　　TvRock番組表の"経過番組"で過去の番組情報を閲覧することが可能です。
　　"経過した番組情報を全て記録する"にチェックを入れると永遠に記録していくのでファイルの量が多すぎる
　　くらいの頃あいには御自分でどうにかしてください。
　　（必要最低限の情報しかないので一つ一つのファイルは小さいです。
　　　TvRockの作業フォルダのtimemachineフォルダに格納されています。現在のところ時間変動には対応していません。
　　　それとファイルから直接閲覧するため、通常の番組表表示よりは多少重いです）

　○録画時のログにエラーパケットの詳細を表示するようにしました
　　エラーがあればDropとScramblingが表示されますが、あくまで内部で調べているだけなので
　　ファイル出力後のチェックはしていません。

　○スリープ・シャットダウン時にキャンセルを行ったときコマンドが実行されてしまう不具合を修正

　○"連続した予約は録画を停止しない"状態の時にコマンドパラメータが正しく送られない不具合の修正

　○番組情報取得スケジュール・同時番組情報取得スケジュールによる高速化の選択をメニュー・インテリジェントの
　　"番組情報取得"で設定できるようにしました。
　　デフォルトはOFFです。
　　（高速化の不具合も多分直ったはず）

　○その他細かい不具合の修正


2008/12/13
TvRock Ver 0.9r6
------------------------------------
　○メニューやRockバーでアプリ起動の時にアプリの起動待ちを一時的に抜いていた不具合の修正

　○キーワード検索予約・デバイス指定時の予約でデバイスが正しく選択されていなかった不具合の修正

　○番組情報取得スケジュール・取得０のタイムアウト処理を受信側にも入れてみました

　○番組情報取得スケジュール・１局毎に番組情報読み込み処理を入れるようにしてみました

　○番組情報取得スケジュール・同時に同じ放送波の番組情報取得スケジュールで予約を入れている場合は
　　取得を高速化するようにしてみました

　○TvRock番組表・週間表示による番組予約不一致の不具合を修正

　○スケジュール再構成・コンピュータ間の移動が考慮されていなかった不具合の修正

　○ログの保存量を４倍にしました

　○その他細かい不具合の修正


2008/12/10
TvRock Ver 0.9r5
------------------------------------
　○"ファイル名置換を行う"のチェックをはずしてもファイル名が変換されていた不具合の修正（再修正）

　○いじったままそのままにしてたダイアログのフォントを元に戻しました

　○ＣＳ番組情報が保存されない不具合の修正
　　たぶん直ったと思うのですが、まだおかしかったら教えてください。

　○その他細かい不具合の修正


2008/12/8
TvRock Ver 0.9r4
------------------------------------
　○TvRockDTVライブラリ・不利男のプラグイン不具合修正

　○その他細かい不具合の修正

　○設定・プロセス・コマンド欄のテキストが少ししか保存できない不具合の修正


2008/12/7
TvRock Ver 0.9r3
------------------------------------
　○実行コマンドのパラメータ%4にパスが入っていた不具合の修正

　○ダイアログ関連からのデバイス操作の不具合修正

　○"ファイル名置換を行う"のチェックをはずしてもファイル名が変換されていた不具合の修正

　○その他細かい不具合の修正



2008/12/7
TvRock Ver 0.9r2
------------------------------------
　○デバイスの構成に不具合があったのを修正



2008/12/6
TvRock Ver 0.9r
------------------------------------
　※デバイスの構成が変わるので以前のバージョンから引き継ぐときはデバイスの設定を確かめて下さい。

　　設定・チューナー欄の使用アプリと連携設定を確かめておかしければ適切に変更してください。

　○TvRockDTVライブラリ
　　TvRockDTVライブラリの追加。
　　このライブラリを使用するとTvRockのターゲットデバイスとして機能できます。
　　視聴＆録画アプリへ組み込んだり、録画のみのアプリでも使用することが可能です。
　　使い方は"TvRockOnTVTestプラグイン"のソースを参照してください。

　○TvRockOnTVTestプラグイン
　　TvRockDTVライブラリを使用したTVTestのプラグイン"TvRockOnTVTestプラグイン"を
　　アップしておきます。
　　設定の詳細は同梱してある"TvRockOnTVTest.txt"を見てください。
　　このプラグインのソースもサンプルとして同時に同梱してあります。

　○TvRockDTVターゲット用簡易セットアップ・"DTune.bat"の追加
　　TvRockOnTVTestプラグインのドキュメントをよく読んでから設定して下さい。

　○８チューナー対応
　　連携設定は本来チューナー数最大-1なのですが８個あります。
　　連携は他のコンピュータを指定できるので予約振り分けはデバイス８個以上指定できるはずです。
　
　○設定画面がごちゃごちゃしてきたので構成を変更

　○チャンネルの同期化
　　対象アプリ側でチャンネルを切り替えたときにTvRock側のチャンネルも同期するように更新
　　（不利男およびTvRockDTV Target)

　○コマンド実行・TvRock起動時に実行するコマンド"SU:"を追加

　○不利男・TvRockDTV Targetでファイル名置換処理をやめ、直接指定ファイル名で録画するように変更
　　録画開始からファイル名が既に変換処理されたものになっています。

　○TvRock番組表・WEBキャッシュ無の明示

　○FTune.batを現在の８チューナーへ対応
　　私は４台以上のチェックはしてないのでおかしな所があれば教えて下さい。

　○FTuneおよびチューナーデバイスのチャンネル設定でデジタルチャンネルのプリセットを用意しました
　　確かめているわけではないので各視聴地域の方でチャンネルが合っていなければ教えて下さい。

　○キーワード検索予約・番組詳細をサブタイトルへ変換の不具合の修正


2008/11/17
TvRock Ver 0.9p4
------------------------------------
　○TvRock番組表・細かい不具合が沢山あったので修正

　○Rockバー・表示モードの追加
　　右端の上から３つ目のボタンで表示モードを切り替えできます。

　　●チャンネル選択
　　●チャンネル選択・ワイド（デバイス選択無し）
　　●番組情報
　　●予約情報

　　を切り替えできます。

　○タイムキーパー・以前と同じ使用しているＰＣのみの表示モードを追加
　　設定画面・インテリジェントの"このコンピューターの予約以外は表示しない"で
　　変更できます。

　○キーワード検索ダイアログ・またウィンドウがデカくなってたみたいなので
　　なにも無いところを掴んで移動できるようにしました。

　○番組情報取得スケジュール更新後の実行コマンド"UE:"を追加



2008/11/9
TvRock Ver 0.9p3
------------------------------------
　○モニタサイズ変更時のウィンドウ見失いを修正

　○TvRock番組表の更新

　○TvRock番組表・URLパラメータの取得が不完全な状態があったので修正

　○キーワード検索予約・プライオリティが紛らわしい感じもするので
　　"録画優先度無効"のスイッチをデフォルトでONにしました。

　○キーワード検索予約・"番組詳細をサブタイトルへ変換"を追加
　　"番組内容をサブタイトルへ変換"と一緒に指定することもできます。
　　（この場合は"番組内容"+"番組詳細"のサブタイトルになります）
　　サブタイトルが長くなると思うので、あくまでもファイル名置換文字処理用の
　　サブタイトル変換と考えてください。
　　また、ある程度長い文字は切り捨てられます。

　○タイムキーパー・情報の表示を増やすため更新しました
　　今まで一つのコンピュータのみの表示しかしていませんでしたが、
　　同期した他のコンピュータのスケジュール状況も表示できるようにしました。
　　ただし、他のコンピュータはあくまで時間でのみ参考表示しているだけで
　　実際の実行状況は監視していません。
　　また、番組情報スケジュールを表示しないようにして欲しいというメール頂きましたが
　　デバイスの状況を監視するためのものなので省くことができませんでした。ごめんなさい。
　　ちなみに赤色表示の時は予約が重複しているサインです。

　○インテリジェント・スケジュール再構成
　　通常スケジュールを一度登録したら手動による変更でしか対処できませんが
　　スケジュール再構成機能によりスケジュール変更時に動的にスケジュール内容を
　　更新させることができるようにインテリジェントへ追加しました。
　　
　　スケジュール再構成の項目の"スケジュール更新時にキーワード予約の優先デバイス指定を再割り当て"は
　　キーワード予約で優先デバイス指定されている予約をスケジュールが変更されたときに
　　デバイスの割り当てをやり直します。
　　無駄な空きデバイスを無くすための項目です。

　○コマンド実行のパラメータに"%a"と"%b"を追加
　　%a ... キーワード検索予約時のタイトルキーワード
　　%b ... キーワード検索予約時の詳細キーワード
　　


2008/10/26
TvRock Ver 0.9p2
------------------------------------
　○"録画中に番組情報の更新を行わない"の状態が"TvRockによるファイル出力を行う"だと無視されていたのを修正

　○TvRockアイコン・ちょっと怪しいので右クリックによるメニューを一時的に固定にしました。

　○TvRock番組表の予約リストから出力ファイル名を確認できるようにしました。

　○"チャンネルリストから予約可能に"の初期状態をOFFにしました。



2008/10/19
TvRock Ver 0.9p (0.9oは紛らわしいので飛ばしました)
------------------------------------
　○TvRock番組表の利便性向上・I'm Feeling Lucky、番組タイトルによるキーワード検索リンクの追加

　○インテリジェント・番組調査機能の追加
　　オススメ番組を調査するために番組調査機能を追加しました。
　　インターネット上のブログ検索機能を使い番組の認知度を調べる機能です。
　　TvRock番組表の"オススメ"の項目上で調査を開始できますが、現在あまりうまくいってない
　　感じなのでテストバージョンでの実装です。
　　もうちょっと良いやり方があればそこから自動録画ということも考えています。
　　この調査機能は２４時間以内に放送する番組を調査します。録画予約実行中は調査を行いません。
　　ネットに負荷をかけないように、かなりゆっくり調査します。
　　そのため全て調査するのに少し時間がかかります。

　○キーワード検索予約・録画終了時間デフォルトが設定されていなかった不具合の修正

　○同期処理・リモートの予約が削除されない不具合の修正

　○Rockバーの番組情報表示を変更

　○Rockコードの追加
　　キーワード検索予約の設定が面倒なときに設定の受け渡しを文字コードで渡せるようにしてみました。
　　Rockコードは"##"で始まりタイトル・詳細・チャンネル・英数字の文字列になっています。

　　このコードはキーワード検索予約の

　　●タイトル
　　●サブタイトル
　　●and or
　　●チャンネル
　　●ジャンル
　　●ナンバリング
　　●放送種別
　　●日時
　　●曜日
　　●期限
　　●時間調整
　　●番組内容をサブタイトルへ変換
　　●タイトル置き換え
　　●ファイル名置換

　　が含まれています。

　　キーワード検索予約ダイアログ上の"Rockコードのコピー"および"Rockコードの登録"
　　TvRock番組表の自動検索予約リストから"Rockコード"および"Rockコードの登録"で
　　それぞれRockコードの表示と登録が行えます。
　　またコピーしたRockコードをメニュー・ツールの"Rockコード登録"で
　　メニューからすぐに登録することも可能です。
　　（現在のところTvRock番組表からの登録は確認を求めないですぐ登録してしまうので気をつけてください）

　○不利男プラグイン・BS-iが少し特殊なためBS-iのみ番組情報取得方法を多少変更
　　（取得のやり方をこちらに統一するかもしれません、視聴中の取得のみで番組取得スケジュールは変更ありません）

　○不利男プラグイン・タイムアウト処理を一部変更

　○ファイル名置換フォーマットの追加
　　@NT1'xxx'　〜　@NT4'xxx'	... タイトルから'xxx'で指定された正規表現でマッチングを行い@PT1〜@PT4に格納します。
　　@NS1'xxx'　〜　@NS4'xxx'	... サブタイトルから'xxx'で指定された正規表現でマッチングを行い@PS1〜@PS4に格納します。
　　@PT1　〜　@PT4　		... @NT1〜@NT4のマッチングした文字列
　　@PS1　〜　@PS4		... @NS1〜@NS4のマッチングした文字列

　　例１：タイトル　　"連続テレビ小説　だんだん（16）「時の過ぎゆくままに」"

　　　    フォーマット: @NT1'[0-9]+'@NT2'「.+」'連続テレビ小説　だんだん　第@PT1話 - @PT2

　　　    → 連続テレビ小説　だんだん　第16話 - 「時の過ぎゆくままに」

　　　　　Rockコード
　　　　　##だんだん::ＮＨＫハイビジョン:471qs2XZrCjeOciCYom70Sv4Z1x4SCsoI31NtaVBVJ2bcu7r6aOXPTDtzj5S9OTg86te@e9htv6XYRV4My4XsF3S6qWUxdfdWwFJ1iOpNdnBjKNTNHHlzgPRi0


　　例２：タイトル　　"アルプスの少女ハイジ"
　　　　　サブタイトル"第38回「新しい家で」▽幼くして両親を亡くした少女・ハイジが、アルプスの大自然の中で、共に暮らすおじいさんを通じてさまざまな事を学び、健やかに育っていく…"

　　　　　フォーマット: @NS1'第.+」'@TT @PS1

　　　    → アルプスの少女ハイジ 第38回「新しい家で」

　　　　　Rockコード
　　　　　##アルプスの少女ハイジ::ＴＶＫテレビ:b6tSD9QrXz0rbBmXBQ7XmfQcVs24qSVdr6YkWzUZE0LcbJldiuHmdoRvD3M04D


　○キーワード検索・期限の追加
　　検索する期日を設定できるようにしました。
　　開始日から終了日までの間のみの検索を行います。
　　また、キーワード検索予約が終了日を過ぎると自動的にリストから削除されるようになります。

　○キーワード検索・否定キーワードの追加
　　キーワード検索に否定キーワードを設定できるようにしました。
　　式は
　
　　Ａ　ＮＯＴ　Ｂ

　　です。
　　Ａ・Ｂどちらも正規表現で指定します。

　　例：タイトルキーワード	"笑っていいとも not 増刊号"

　　　　Rockコード
　　　　##笑っていいとも not 増刊号:::42Wbwc1c#bktsedFDtf1r4#CWB4UQaP0Le6c

　○iEPGによる予約でのチャンネル名マッチングをキーワード検索と同様に
　　半角英数字・ひらがなカタカナ全角半角を同一として扱うように修正

　○TvRock番組表・壁紙を設定できるようにしました
　　TvRockフォルダに"wallpaper.jpg"または"wallpaper.png"を入れておくと
　　TvRock番組表に壁紙を貼ることができます。
　　イメージサイズは4MBまでなので気をつけてください。

　○ツール・TvRock番組表エディタを実装
　　番組表のジャンル色分けの設定やI'm Feeling LuckyのON/OFFを設定できるようにしました。
　　スタイルシートにしようかと思いましたが携帯等のブラウザで使用できるかどうか
　　よくわからないのでHTMLは基本的なものしか使用していません。

　○ファイル名置換・二重書き換えの不具合を多少修正
　　少しやり方を変更して同時録画終了時に同じ名前のファイル名ができてしまう
　　不具合修正を仮実装してみました。（今のところ不利男のみ仮実装）


2008/9/20
TvRock Ver 0.9n6
------------------------------------
　○キーワード検索・全角英数字と半角英数字・ひらがなとカタカナ全角半角を全て同一としてマッチングするように修正

　○番組情報取得・番組情報取得条件に"無条件取得"を追加

　○番組情報取得スケジュールの３０分枠撤廃

　○最大予約数を変更できるように修正
　　現在の最大予約数を変更できるようにしました。
　　予約数を変更した場合はTvRockを再起動してください。
　　また、同期処理を行っている場合はそれぞれのコンピュータで動作している
　　TvRockの最大予約数も同じ数に合わせる必要があります。

　○マルチモニタ時にウィンドウが移動できない不具合の修正


2008/8/23
TvRock Ver 0.9n5
------------------------------------
　○クイック録画の予約情報にサービスIDが入っていない不具合の修正(追従しない)

　○不利男プラグイン・未定番組のタイトルを追加

　○キーワード検索予約の録画終了時間がおかしくなっていたのを修正

　○録画中や次の予約が一定時間内にある場合はシャットダウン処理を行わないように修正
　　設定画面・詳細から「シャットダウン抑制時間」で調整してください。

　○不利男プラグイン・新しいバージョンへの対応とそのバージョン以降はカードエラー処理を行わないように修正


2008/8/11
TvRock Ver 0.9n4
------------------------------------
　○同期時に無駄なログがいくつもでてくる不具合の修正

　○時間追従の不具合修正


2008/8/8
TvRock Ver 0.9n3
------------------------------------
　○キーワード検索・放送種別のフラグ選別に不具合があったのを修正(ヒットしない項目がある)

　○予約登録の録画開始・終了の時間を-60分まで延長

　○スリープからの復帰時間を３分固定から５分まで指定できるように変更
　　設定画面・詳細から復帰時間を指定して下さい。

　○キーワード検索予約リストのファイル(tvrock.key)が壊れてしまう不具合の修正 (暫定)

　○CSの取得時間を長めに設定

　○URL文字列の解釈がおかしくなっていたのを修正

　○時間追従性能の向上
　　プラグイン側の改良とリアルタイム追従時にスケジュールが被る場合は
　　番組情報更新時での追従で補うように改良。
　　このため設定画面の「リアルタイムによる時間追従を行う」のスイッチを無くしました。

　○同期処理・親と子ノードしかコンピュータ情報をやりとりしていなったのを
　　繋がれた全てのコンピュータで情報を共有するように修正

　○連携録画の不具合を多少修正
　　まだ同期で多数のデバイスだとおかしい部分があると思います。



2008/7/11
TvRock Ver 0.9n2
------------------------------------
　○TvRock番組表・コントローラを追加

　○TvRock番組表・自動予約検索リストで録画優先度無効の設定が無視されていたのを修正

　○TvRock番組表・自動検索予約のリンク追加

　○TvRock番組表・細かな不具合の修正

　○ファイル名置換・@sb（前空白抜きサブタイトル）追加


2008/7/4
TvRock Ver 0.9n
------------------------------------
　○キーワード検索・英字の大文字・小文字別で判断していたのを大小区別しないように修正

　○予約リスト・録画予定の表記を変更
　　[録]　…　録画のみ
　　[視]　…　視聴のみ
　　[両]　…　視聴と録画
　　[実]　…　録画中

　○チャンネルエディタ・放送局のサイトアドレスを登録できるように追加
　　チャンネルエディタに放送局のアドレスを定義すると
　　TvRock番組表・チャンネル名からリンクできます。

　○キーワード検索予約・ファイル名置換をキーワード毎に設定できるように追加
　　キーワード検索予約の設定でファイル名置換にチェックを入れ、フォーマットを書くことにより
　　キーワード検索毎にファイル名置換フォーマットを変更できるようにしました。

　○ファイル名置換・ナンバリングフォーマットの追加
　　@nb  … "#"抜きナンバー
　　@2nb … "#"抜きナンバー２桁
　　@3nb … "#"抜きナンバー３桁
　　@4nb … "#"抜きナンバー４桁

　○クイック録画・現在選択中の番組で録画時間・タイトルを設定するように追加
　　クイック録画で番組情報を見て録画時間・タイトルを設定するようにしました。

　○TvRockプラグイン・プラグインによるファイル出力で出力中のファイル名を変更

　○TvRock番組表・予約リスト・予約追加・修正・キーワード検索・自動検索予約リストを追加
　　ホームサーバー形式への対応。


2008/6/14
TvRock Ver 0.9m3
------------------------------------
　○RockプラグのAPIバージョンアップ

　○システム文字サイズの違いによりダイアログが崩れていた問題の修正 (XP/Vista共に修正)

　○予約リスト・アプリケーションの継続[←]、終了[↓]の表示の他に
　　シャットダウン[シ]・スタンバイ[ス]・休止[休]の追加

　○タイトル＆サブタイトル追従を追加
　　番組情報更新時にタイトルやサブタイトルが変更されていた場合に
　　予約のタイトルやサブタイトルを更新する機能を追加しました。
　　ただし、今のところキーワード検索のみで機能します。

　　キーワード検索の"タイトル＆サブタイトル追従"にチェックが付いていれば機能します。
　　"タイトル置き換え"時はタイトル追従はしません。
　　"番組内容をサブタイトルへ変換"にチェックが付いていないとサブタイトル追従は行いません。

　○FTune・ゴルフネットワーク、LaLa TVのチャンネル修正

　○編集しているスケジュールを無効で重複登録すると重複扱いになる不具合の修正

　○TvRock番組表でデバイス別予約を行うと連携録画が有効になってしまっていた不具合の修正

　○Rockプラグ・ふぬああプラグの追加


2008/6/8
TvRock Ver 0.9m2
------------------------------------
　○キーワード検索・AND ORの状態が保存されていなかったのを修正

　○放送波別優先予約デバイスの判断に不具合があったのを修正



2008/6/7
TvRock Ver 0.9m
------------------------------------
　○不利男プラグイン・番組情報の文字列変換不具合の修正と外字の追加

　○不利男プラグイン・プレイバック録画の転送量が少し大きかったので減らしました
　　プレイバックのデータを保存するときにキャッシュへの転送量が多すぎて
　　ハードディスクがホットスタートする前に溢れてしまう事があるため
　　転送量を減らしました。
　　現在の時間に追いつくまでに以前より少し時間がかかると思います。

　○既に終了した番組が重複扱いになっていた不具合の修正

　○Rockバー・不利男ユーティリティへの操作対応(ウィンドウフィッティング・カメラボタン）・機能追加

　○チャンネルエディタの追加
　　メニュー・ツール -> チャンネルエディタでチャンネル関連の編集機能を追加しました。
　　チャンネルの追加・削除・移動・放送波選択ができます。
　　チャンネルエディタができたので"チャンネル編集"Rockプラグは外してください。

　　またチャンネル編集機能により新しく以下の項目を追加しました。

　　●チャンネルグループ
　　　同じ局なのにiEPGでは違う名前で登録されていて、似たような名前のチャンネルがいくつもできてしまう
　　　ことがあるので、これらを同一の局として扱えるようにチャンネルをグルーピングする機能を追加しました。

　　　使い方はまずチャンネル一覧を選択・右の項目"チャンネルグループへ挿入"で指定した
　　　チャンネルの同名チャンネルとして扱えるようになります。

　　　例：
　　　ＮＨＫ総合　　　チャンネルグループ　
　　　　　　　　　　　ＮＨＫ
　　　　　　　　　　　ＮＨＫ総合・東京

　　　のように、iEPGで予約すると"ＮＨＫ"・"ＮＨＫ総合・東京"等は全て"ＮＨＫ総合"として扱われます。

　　●連続した予約は録画を停止しない
　　　同じ局で連続した予約がある場合、今の予約と次の予約で継ぎ目ができて
　　　全てが録画できないような状況があると思います。
　　　この項目にチェックを入れるとそのチャンネルで連続した予約の場合は今の予約の終了時に
　　　録画停止を行わず、次の予約の終了とともに停止します。

　　　ＮＨＫのような時間いっぱいで放送されている番組で連続予約が発生した時等に有効です。

　○TvRock番組表の更新（番組詳細表示）

　○重複時の録画優先度の追加
　　手動予約で録画の優先度を設定できるようにしました。
　　"録画優先度"の数が大きい程録画優先度が上になり予約時間全てを録画します。

　　キーワード検索では数値を入力せず"自動予約検索リスト"の順位で録画優先度を決定するようにしています。
　　キーワードを上へ上げれば優先度が高く、下だと低くなります。
　　既に登録されている予約については優先度が指定されていません。(優先順位０)
　　キーワード検索を更新したら優先順位が付くようになります。
　　また、キーワード検索の設定欄に"予約優先度無効"というチェックがあるので
　　これにチェックを入れると優先度０の状態になります。
　　今までと同じ状態で録画したい場合は全て０に設定して下さい。
　　優先度により連続で予約されているところは今までと動作が変わるところが
　　出てくるかもしれないのでよくチェックしておいて下さい。

　　同じ優先度の場合、どちらの優先度が高くなるかは
　　設定・詳細の"重複時は後の番組を優先"のON/OFFで決定されます。
　　（全て同じ優先度であれば以前と同じ状態ということになります）

　　この優先度は設定・詳細の"予約リストに録画優先度を表示"で予約リストに
　　録画優先度が表示されるようになります。

　　優先度の決定は基本的にはキーワード検索予約で使うのがメインで考えています。
　　番組情報が取得できない環境は手動で設定して下さい。

　○コマンド実行・スケジューラ再開時のコマンドを追加
　　スリープ解除時に"WU:"では実行されない事があると思うので
　　スケジューラが再開されたのを検知して実行できるようにしました。
　　"RS:"で実行できます。

　○コマンド実行・スリープ処理が結構使われるのでオリジナルの"sleep.exe"をTvRockフォルダに入れておきました。
　　コマンドで
　　sleep 3000
　　と入れれば３秒ウェイトかかります。


2008/5/30
TvRock Ver 0.9L
------------------------------------
　○スリープタイマー・スリープ中に手動で電源ＯＮした時にすぐにスリープ移行してしまう不具合の修正

　○番組情報読み込みの高速化

　○TvRock番組表の更新

　○不利男プラグイン・番組情報取得の不具合修正
　　番組情報のデータが崩れていた問題を修正。
　　てっとり早く番組情報を入れ換えたい場合はTvRockを一度終了して
　　TvRockフォルダにある"*.prg"ファイルを削除してTvRockを起動し、番組情報を再取得して下さい。

　○プレイバックバッファの実装
　　急な録画が必要となった場合、割り当てられたメモリ分の過去の放送から録画開始できるように
　　プラグインの追加を行いました。
　　設定・チューナーの不利男設定から"プレイバックバッファ"のサイズを0MB以上に設定すれば
　　機能するようになります。
　　"TvRockによるファイル書き出しを行う"が有効でないと使用できません。

　　通常の予約による録画にはプレイバックは適用されません。
　　メニューのクイック録画およびRockバーの録画ボタンから
　　録画を開始した場合にのみプレイバックが適用されます。
　　この録画以外は今までと同じ処理なので動作に変更はありません。

　　地上波・128MBで録画開始１分くらい前から録画できると思います。
　　主に視聴向けの機能なので録画専用で運用している人には意味ないと思います。
　　メモリに余裕がある人は試してみて下さい。

　　録画開始時はプレイバック分のデータを書き出すために現在の時間に追いつくまで多少時間がかかります。
　　（バッファが多ければ多いほど時間がかかります）
　　追いつく前に録画を停止してしまうと正しい停止位置で終了しない場合がありますので気をつけて下さい。

　　ちなみにファイル書き出し用のキャッシュサイズですが、あまり大きくても普段は殆ど使ってないので
　　もったいないだけかもしれません…
　　私は32MB程で運用していますが、32MBでもキャッシュが溢れることはなかなかできないと思います。

　○不利男プラグイン・アプリの終了検知で問題がある場合に強制終了するように追加（監視スレッド）

　○同期処理の修正
　　同期処理では自分のＰＣ以外の優先予約デバイスや連携録画の設定は持っていませんでしたが
　　この設定もそれぞれ受け取るようにしました。
　　同期処理によるデバイス選択の不具合も解消されると思います。
　　キーワード検索で"優先デバイス"を指定した場合、指定したコンピュータの優先デバイスになるので
　　設定には注意が必要です。
　　もしまたおかしなところがある場合はまた御報告下さい。

　○同期・予約更新時・番組情報更新時にWOL (Wake On LAN)のマジックパケットを送信して貰う機能の追加
　　ＰＣ２台以上の環境で１台がサーバで常時起動しているような時に
　　スリープ中のＰＣを予約更新・番組情報更新時にマジックパケットを送ることができるようにしました。
　　サーバでTvRock番組表等で予約 -> スリープしているＰＣを起動 -> もう一台のＰＣが更新された予約情報を同期
　　という流れができます。
　　設定画面・同期欄から必要に応じてWOLの設定を行ってください。

　　WOLを設定した場合はスリープする側のＰＣはスリープタイマーに設定しておいた方が流れがスムーズになります。
　　予約欄には終了後の処理を"何もしない"に設定。
　　ＰＣを離れる時はスリープタイマーをONに設定。
　　何もなければスリープへ移行 -> サーバが予約を更新すればスリープしていたＰＣが起動 -> なにも無ければ時間が経てばスリープへ移行
　　という流れができます。
　　
　　もう一つ"予約５分前にマジックパケットを送って貰う"というのがありますが、
　　これはスリープ側のＰＣがシャットダウンしてても使えるように
　　自分の予約の５分前にサーバからマジックパケットを送って貰い起動できるように設けました。

　○上記のためTvRockアイコン・ショートカットにスリープタイマーのモードを追加
　　アイコンクリックでスリープタイマーへ一発で切り替えられます。



2008/5/20
TvRock Ver 0.9k2
------------------------------------
　○番組情報取得スケジュール終了時にTvRockが異常終了してしまう不具合の修正

　○重複時の判断がおかしく重複していないのに連携録画等で次の候補へデバイスが選択されてしまう不具合の修正

　○スケジュール・チャンネル更新時にロックがかかっていた不具合の修正

　○同期処理のスケジュール更新を軽量化

　○同期処理・優先デバイスの振り分けができたため設定・同期の"予約登録時はマスターをデフォルト"を削除

　○予約登録・更新の自動処理をそのコンピュータで行うように修正
　　キーワード検索や予約のリピート機能等で自動で予約が更新されるものを
　　そのコンピュータで更新するように修正しました。
　　同期では他のＰＣの優先デバイスや連携録画の状態がわからないので
　　今までだとおかしな状態になっていたと思います。

　○TvRpck番組表の不具合修正・更新


2008/5/17
TvRock Ver 0.9k
------------------------------------
　○連携録画で全デバイス選択できるように修正
　　マルチコンピューターの場合だと

　　ComputerA・チューナーA　から ComputerB・チューナーA

　　という選択ができないことに気づいてしまい修正しました…

　○不利男・チューナーアプリケーションのプロセス優先度が変更されていなかったのを修正
　　設定・チューナー欄で"チューナーアプリケーションのプロセス優先度"を指定してください。

　○キーワード検索予約で録画終了時間のマイナス値が保存されない不具合を修正

　○予約の録画開始時間でマイナス値を指定できるようにしました
　　もしかしたらどこか問題が発生するかも…

　○時間追従の不具合を修正
　　時間追従でリアルタイムでの時間追従を行った後に別の条件(同時視聴や同期等で推測)で
　　番組情報の読み込み動作が入った場合、再び以前の番組情報の時間に調整されてしまう
　　問題を修正しました。

　　今までだと何も操作せずに一つの番組を予約して放置している状態だとうまくいったかもしれませんが、
　　ちょっとマルチな状態になってから時間追従のことあまり考えてなかったので申し訳ないです。

　○リアルタイム時間追従をOFFにできるようにしました
　　リアルタイムの追従になると連続した同局予約のスケジューリングがうまくいかない可能性があると思います。
　　リアルタイムの時間追従は録画中の番組だけを時間調整するので後に続く同局の番組で重複した場合の処理が
　　うまく追従できなくなるかもしれません。
　　設定画面・詳細の"リアルタイムによる時間追従を行う"でON/OFFできます。

　　リアルタイム時間追従の流れ：
　　予約開始 -> リアルタイム番組検索(数秒・ＢＳだとかなり時間かかります) -> 時間調整

　　番組情報更新による時間追従の流れ：
　　予約開始 -> 番組情報更新(数分・ＢＳだとかなり時間かかります) -> 時間調整

　　リアルタイム時間追従をOFFにした場合は番組情報を更新した時による追従のみになります。
　　("録画中に番組情報の更新を行わない"にチェックを入れていた場合は時間追従できなくなります)

　　リアルタイム時間追従がOFFになると時間調整までに時間がかかるので録画中にさしかかり、
　　ゴミ録画ファイルができると思います。
　　追従した録画には支障が無いと思うので問題がありそうでしたらOFFにしてみてください。
　　ただし数分しかない番組だと問題が発生するかもしれません。

　○キーワード検索予約・TvRock番組表予約からの自動デバイス選択
　　設定・詳細の"放送波別優先予約デバイス"の設定により
　　キーワード検索予約・TvRock番組からの予約でデバイスを自動的に
　　選択するように追加しました。

　　キーワード検索ではデバイス選択欄で"優先デバイス"で、
　　TvRock番組表の予約は"予約"リンクで自動デバイス選択です。
　　TvRock番組表は"デバイス別予約"で指定デバイス選択予約を行えます。
　　このため、TvRock番組表・デバイスロックで使用していた"予約"リンクは排除しました。

　　iEPG、メニュー・チャンネル・キーワード検索予約・TvRock番組表は
　　基本的に全て自動デバイス選択するようになりました。
　　自動デバイス選択しないのは手動による予約登録のみです。
　　
　　予約によるデバイス選択の流れは以下のようになります。

　　　予約　->　優先予約デバイス　->　連携録画　->　登録

　○録画終了後コマンドのカスタム化
　　録画終了後のコマンド処理をカスタム化して予約毎にコマンドを選択できるようにしました。

　　使い方は、まず設定・プロセスのコマンド実行欄に好きなカスタムコマンド名を付けてコマンドを作成します。
　　例えば録画終了後にワンセグで見て消すだけの軽い録画をしたい時に適当な名前をコマンド名にします。

    --------------------------

    # TsSplitterさんを使う
　　ワンセグ:TsSplitter.exe -HD -SD "%1"
　　ワンセグ:del "%1"

    --------------------------

　　のように登録します。

　　登録が終わったら予約登録画面を出します。
　　予約登録を行う際に"終了後コマンド"という選択欄があるので、
　　ここで上記で設定された"ワンセグ:"が追加されています。
　　これを"規定コマンドを実行"からプロセス欄で登録した"ワンセグ:"に変更すると
　　上記で設定した"ワンセグ:"のカスタムコマンドが録画終了後に実行されます。
　　このカスタムコマンドの選択はキーワード検索予約でも設定できます。

　　予約毎にファイルを指定したフォルダへ移動させるのにも使えます。

    --------------------------

　　# フォルダ移動
　　アニメ:copy "%1" "C:\video\アニメ"
　　ドラマ:copy "%1" "C:\video\ドラマ"
　　バラエティ:copy "%1" "C:\video\バラエティ"

    --------------------------

　○録画終了後コマンドのパラメータに予約のタイトルとサブタイトルを追加
　　%8 ... タイトル
　　%9 ... サブタイトル

　○待機時コマンドのパラメータを有効に
　　ファイル名関連の%1〜%4まではセットされません。
　　%5〜%9までが有効になります。

　○Rockバー非表示状態だと不利男ステータスが取得できなかった不具合を修正
　　すいません…　全然気づきませんでした…

　○TvRock番組表・WEBのバッファサイズを4MBに増やしました

　○設定・詳細に"予約リストの表示をデバイス毎に"を追加


2008/5/11
TvRock Ver 0.9j3
------------------------------------
　○不利男プラグイン側のファイル処理を更新していなかったのを修正

　○不利男プラグイン・ファイル出力のフラグが間違っていたのを修正
　　ファイル出力中でも再生できます。


2008/5/11
TvRock Ver 0.9j2
------------------------------------
　○チャンネルリストの読み込みの不具合があったのを修正


2008/5/10
TvRock Ver 0.9j
------------------------------------
　○コード分析による不具合修正

　○TvRock番組表の追加と修正

　○スケジュール及びチャンネル情報の空白処理を修正
　　半角スペースが使用できなかった問題を修正しました。

　○録画終了時間にマイナス値を設定できるように変更しました。

　○録画終了時間デフォルト値の設定
　　録画終了時間デフォルト値を設定できるようにしました。
　　今まで実装していなかったのは、録画終了時間は単純に録画終了時間を足しているだけなので
　　連続した予約になると重複予約が毎回発生してしまうためです。
　　要望が多かったので付け足しました。

　○不利男・起動アプリケーションを設定できるように追加
　　設定・チューナー欄の不利男設定で起動するアプリケーションを設定出来るように
　　追加しました。
　　不利男ユーティリティ等で起動したい場合はここでアプリケーション名を設定します。
　　チューナーのアプリケーション毎の設定なので、アプリケーションを複数使用している
　　場合はそれぞれ設定が必要です。
　　尚、色々と不都合があるのでアプリケーションのパスは固定です。

　○不利男プラグインによるファイル出力の追加
　　プラグインから録画ファイルを吐き出すようにしてみました。
　　チューナーの不利男設定欄で"TvRockによるファイル出力を行う"に
　　チェックを入れると機能するようになります。
　　設定変更後は不利男Viewを再起動させて下さい。
　　プラグインによるファイル出力機能はファイル書き込み時の
　　ドロップを防ぐためにキャッシュサイズを指定できます。
　　連続して録画していると録画後のファイル後処理等で
　　ディスクアクセスの負担が増え、ドロップが発生して
　　しまうことがあったので作りました。
　　ファイル出力機能は指定したサイズの２倍でメモリが確保されます。
　　単純にTSファイルを出力する機能のため、他の不利男のファイル出力関連の
　　機能は動作しません。
　　録画を開始しても不利男のランプは赤に変わりません。
　　録画を開始してもステータスのエラーカウントがリセットされないため、
　　録画開始と終了のエラーカウントの差分でエラー数を判断して下さい。
　　メモリに余裕がある人で試してみたい方は使用してみて下さい。
　　ちなみにTvRockが全てオンメモリ構成なのは余計なディスクアクセスを防ぐためです。

　○iEPG予約登録でTvRock番組情報とのマッチングを行い時間追従可能にしました
　　インターネット番組表から登録したiEPGによる予約とTvRock内部の番組情報を
　　照合してiEPGからの予約登録でも時間追従を可能にしました。
　　IDを登録するだけなのでiEPGのタイトルや内容をそのまま使用できます。
　　当然のことながらTvRockに番組情報が蓄積されている状態でないと使用できません。
　　時間追従になると時間調整されてしまうためiEPGで指定した時間とは異なる場合があります。
　　もし番組情報との照合を行いたくない場合は設定画面・詳細の"iEPG登録時に番組情報との照合を行う"の
　　チェックを外して下さい。

　○テレビ王国のiEPGデジタルに対応
　　iEPGデジタルに対応しました。
　　ただしTvRockはチャンネル名で管理しているのでサービス番号でのチャンネル逆引きはしていません。

　○iEPG登録時の重複チェックを行わないようにする項目の追加
　　設定・詳細の"iEPG登録時に重複チェックを行う"からチェックをはずすと
　　重複チェックを行いません。
　　iEPGの自動登録等に使い分けて下さい。

　○連携録画で正しくデバイスが割り当てられない不具合の修正
　　予約を追加すると連携録画でデバイスが正しく割り当てられない不具合を修正しました。

　○不利男プラグイン・監視スレッドを切るとステータスが取得できない不具合の修正



2008/4/26
TvRock Ver 0.9i3
------------------------------------
　○スリープ処理の不具合を修正
　　不具合の御報告いただいたので修正してみました。
　　まだなにかおかしな場合は教えて下さい。
　
　　スリープ処理のログをある程度出力するようにしてみました。


2008/4/24
TvRock Ver 0.9i2
------------------------------------
　○FTuneチャンネル設定情報不具合修正・更新
　　TvRockフォルダの"ch-ts.txt""ch-bs.txt""ch-cs.txt"を削除すると
　　更新されたファイルが作成されます。
　　更新情報が不要であれば削除しないで下さい。

　○チャンネルが64局までしか登録できない不具合の修正
　　内部では128局までなのですが、チャンネル情報が64局までしか
　　書き込まれていない不具合を修正しました。

　○放送波別の予約優先デバイスを選択できるように追加
　　iEPGやメニュー・チャンネルからの予約登録で選択されたデバイスを基準に
　　予約が登録されていましたが、これを放送波で選択できるようにしました。
　　設定画面・詳細から"放送波別優先予約デバイス"で設定できます。

　　FTune実行時はこれらが自動で登録されます。

　○不利男View・複数起動時で片方終了するとカードエラーが発生する不具合の修正
　　複数起動して終了した時に発生するカードエラーを無くしました。
　　ただしTvRockから操作して終了するようにして下さい。
　　直接不利男Viewを操作して終了した場合は正常に終了しません。

　○上記のため"他の不利男が録画中はアプリを終了しない"を削除しました

　○不利男プラグインを多少調整

　○"アプリケーション起動時にプレビューOFF"を追加
　　メールでの御要望により追加。とにかくプレビューしたくない人用。
　　設定画面・詳細から設定してください。

　○番組情報取得で取得すチャンネルの選択が不便なので地上波・BS・CSで
　　全選択・全解除のボタンを追加しました

　○不利男BS/CSでエラーカウントの再起動を無効にするフラグを追加
　　不利男Viewアプリケーションの設定でチェックを入れたり切ったりできます。
　　デフォルトで切っておくようにしました。


2008/4/21
TvRock Ver 0.9i
------------------------------------
　○TvRockの設定を全て削除するためのコマンドを添付しました
　　全て削除する場合は同梱の"UnInstall.bat"から実行してください。

　○不利男のみユーザー向けのセットアップウィザードの追加
　　セットアップの開始は同梱の"FTune.bat"を実行してください。

　　FTuneを一度実行するとチャンネル定義のリストをTvRockフォルダの
　　"ch-ts.txt" "ch-bs.txt" "ch-cs.txt" のファイルを参照するようになります。

　○チューナーデバイスを４つに追加しました

　○連携録画の候補を３つに追加しました

　○Rockバーを現在の環境に対応させるため新しくしました

　○チャンネル追加時に本体にチャンネルが反映されていない不具合の修正

　○不利男複数台時にTvRockのメモリが増え続けていた不具合の修正

　○番組表からの予約削除でタスクが削除されていない不具合の修正

　○他の追加されたチューナーデバイスが予約録画後アプリケーションを終了しない不具合の修正

　○マルチチューナー時に番組情報取得ができない不具合の修正

　○ヘルプが重いのと使いづらいので設定画面からメニュー・インテリジェントへ移動させました

　○アプリケーションを使用しないデバイスはデバイス選択欄で表示しないようにしました

　○スリープ処理に"強制的な休止を要求"を追加しました

　○番組情報のBS対応
　　私の環境はケーブルテレビのため、今のところCSが確認できません。
　　どなたかCSの方の御確認お願いいたします。

　○地上波・BS・CSの表示選択しているデバイスはTvRock番組表での予約登録表示を選別表示するようにしました

　○連携録画をTvRock番組表・メニューからの予約やiEPGにも対応

　○番組情報取得スケジュールの更新
　　番組情報取得スケジュールをBS/CSに対応させました。
　　BS/CSを使用しているチューナーでスケジューリングさせて下さい。
　　地上波とは別個の扱いになるので、地上波・BS/CSの番組情報をいっぺんに
　　取得する場合は、地上波のチューナー・BS/CSのチューナーの２つのデバイスで
　　スケジューリングする必要があります。
　　２つの番組情報取得スケジュールを同時実行してもかまいません。

　　３０分で全ての番組情報が取りきれない場合はスケジュールを何回かに別けて
　　取得させるようにすると良いと思います。
　　（例えば１時間後にもう一回実行させれば取得されていないチャンネルから取得し始めます）

　○番組情報取得スケジュール・取得チャンネルの設定
　　チャンネルが大幅に増えると思いますので、番組情報を取得しないチャンネルを
　　設定できるようにしました。
　　メニューのインテリジェント・"番組情報取得"で取得しないチャンネルを設定できます。
　　番組情報が多くなるとメモリ使用量が多くなってきますので気をつけてください。

　○コマンド実行の変更・追加
　　雑多になったためコマンド実行で選択するコマンド名の変更と追加を行いました。

　　先頭に書く文字列	　　　実行タイミング

　  CP:			... キャプチャデバイス録画終了後に実行
　  TN:			... チューナーデバイス録画終了後に実行
　  T1:			... チューナーAデバイス録画終了後に実行
　  T2:			... チューナーBデバイス録画終了後に実行
　  T3:			... チューナーCデバイス録画終了後に実行
　  T4:			... チューナーDデバイス録画終了後に実行
　  SC:			... キャプチャ待機時間に実行
　  ST:			... チューナー待機時間に実行
　  SE:			... 外部録画待機時間に実行
　  SD:			... シャットダウン時に実行
　  SS:			... スリープ時に実行
　  WU:			... スリープ解除時に実行
　  MS:			... スケジュール更新時に実行
　  US:			... チャンネル情報更新時に実行

　　パラメータの追加 (クイック録画の時はチャンネルが設定されていないので使用できません）

　　%5			... チャンネル名
　　%6			... チャンネル番号
　　%7			... サービス番号

　○項目が雑多になりデバッグしにくくなったので一時的に不利男ユーティリティーの項目を削除しました。また後で復活させます。

　○おまけ：予約登録でタイトルに"空スケジュール"と入力して視聴のみにすると視聴のみでプレビューOFFになります。


2008/4/11
TvRock Ver 0.9h4
------------------------------------
　○不利男・不利男BS/CSのアプリケーションを追加

　　不利男のアプリケーションを４つまでに追加しました。（デバイス０〜３）
　　不利男 BS/CSのアプリケーションを４つ追加しました。（デバイス０〜３）

　　BからDまではそれぞれデバイスの１・２・３（デフォルトは０）に対応しています。

　　白１台・黒１台のような場合、設定・チューナーA・B欄をそれぞれ

　　チューナーAのアプリケーションを"不利男"に設定

　　チューナーBのアプリケーションを"不利男 BS/CS B"に設定

　　のようにします。
　（デバイスの繋ぎ方によってはチューナーAを"不利男 B"・チューナーBを"不利男 BS/CS"の可能性もあります）

　○不利男のチャンネル設定欄に周波数設定の追加
　　BS/CS用の周波数の設定です。
　　これは"bscs.ini"の値をそれぞれ上と下に"bscs.ini"の値と全く同じ値を書きこんで下さい。

　○各デバイスに放送波別のチャンネル表示チェックを追加。
　　キャプチャ・チューナーA・チューナーBの設定欄にはチャンネル表示の設定欄があります。
　　地上波・BS・CSをそれぞれON/OFFして、メニューのチャンネルリストや
　　Rockバーのチャンネル表示を絞ることができるようになります。
　　チューナーAが"不利男"の場合は地上波のみにチェック。
　　チューナーBが"不利男 BS/CS"の場合はBSとCSにチェックします。
　　これでデバイスを切り替えたときに不要なチャンネルが表示されなくなります。

　○タスクスケジューラのパスワードが隠されていなかったのを修正
　　すいません…　全然気づいてませんでした…

　○スリープタイマー・復帰時に再びスリープに入ってしまう不具合の修正

　○スリープタイマー・スリープタイマーのモードを記憶させるように追加修正しました

　○TvRockアイコン・マウス定義に"アプリの起動・終了"を追加


　※不利男と不利男BS/CSを視聴・録画するための設定方法

　　TvRockを起動する前に"チャンネル編集"プラグインをTvRockフォルダの
　　"plug"フォルダに入れてから起動してください。

　　まずチャンネル設定をします。
　　テレビ王国等のサイトで作りたいチャンネル（"WOWOW"等）をiEPGで空予約します。
　　空予約するとチャンネル名が収集されるのでメニュー・チャンネルで登録されているか
　　確認してみてください。
　　一度収集したチャンネルは登録されていますので、空予約したスケジュールは削除して下さい。

　　一通りチャンネルを収集したらメニュー・ツールの"チャンネル編集"プラグインで
　　チャンネル情報の変更をします。
　　チャンネルを選択してそれぞれBS系のチャンネルはBSに設定。
　　CSのチャンネルはCSに設定をかけます。
　　チャンネルの並び替えもできるので、ここで一通り編集して下さい。

　　次にチャンネルナンバーの設定をします。
　　設定・チューナー欄の不利男設定で"チャンネル"設定欄があるので、
　　それぞれの局に対してチャンネルナンバーを設定します。

　　地上波は今までと同じですが、BS/CS設定したチャンネルは
　　"周波数"の項目が編集可能になり、こちらの値を設定します。
　　この周波数の項目はそれぞれ"bscs.ini"に設定してある値を上下の入力欄で設定します。
　　(bscs.iniに書かれている値をそのまま上下に設定して下さい)

　　これで一通り設定は終了です。
　　デバイスをチューナーA・チューナーB切り替えて、
　　それぞれ起動・終了・チャンネル変更が行えると思います。


2008/4/9
TvRock Ver 0.9h3
------------------------------------
　○エンコタイマーからスリープタイマーへ改名・機能追加
　　エンコタイマーをいくつかの条件でスリープへ移行する
　　監視タイマーへ変更したため名前を"スリープタイマー"へ変更しました。

　　インテリジェント・"スリープタイマー"の休止・スタンバイ・シャットダウンで
　　それぞれ機能します。
　　各パラメータの設定は設定画面・インテリジェントの"スリープタイマー"欄で
　　設定して下さい。

　　スリープタイマーからCPU使用率以外の追加条件として、
　　"スケジュール情報が更新されていない時間のカウント"と
　　"チャンネル情報が更新されていない時間のカウント"
　　を追加しました。

　　同期等でスケジュール情報やチャンネル情報が更新されている場合は
　　ある程度の間隔で時間が更新され、カウントが０秒に戻ります。
　　もし全てのスケジュールが同期された後はスケジュールが更新されず
　　秒数がカウントされたままの状態になります。

　　設定した秒数以上になった場合はスリープ状態への移行を許可する形になります。

　　各設定は値が０の場合は機能しません。
　　全て０の場合はスリープタイマー自体が機能しません。

　○コマンド実行で他のスイッチが意味不明なので一つだけに変更

　○スケジュール更新時・チャンネル情報更新時にコマンド実行処理を追加
　　コマンド先頭に">"でスケジュール更新時にコマンドを実行
　　コマンド先頭に"<"でチャンネル情報更新時にコマンドを実行

　○スリープ解除時にコマンド実行処理を追加
　　コマンド先頭に"&"でスリープ解除時にコマンドを実行


2008/4/6
TvRock Ver 0.9h2
------------------------------------
　○ファイル名置換フォーマットに文字列カットとサブタイトル移動を追加
　　タイトルからある文字を削除したい場合のコマンドを用意しました。

　　@C'xxx'

　　タイトルから"xxx"という文字を削除します。

　　また、タイトルにカッコで囲まれた文字列"「・・・」"が
　　番組情報に含まれている場合が多いため、このカッコに囲まれている
　　文字列を予約情報のサブタイトルに移動させるコマンド

　　@MST

　　を用意しました。

　○予約登録ダイアログ・サブタイトル編集の追加

　○予約登録ダイアログ・出力ファイル名の表示

　○キーワード検索予約・番組内容を予約情報のサブタイトルへ変換する項目の追加
　　番組内容によってはサブタイトルに変換できる番組もあると思うので、
　　この番組内容を予約情報のサブタイトルへ変換できるように追加を行いました。

　○予約登録でサブタイトルを編集できるように追加
　　サブタイトルに"未定"と入っている場合はサブタイトルが反映されません。

　○スタンバイ・休止を外部からの電源移行でも対処できるように修正
　　TvRockからスタンバイ・休止を行わなくても次回復帰できるように修正しました。

　○録画中・次回の予約が近い場合はスタンバイ・休止を拒否するように追加（Vista不可)

　○復帰処理をタスクスケジューラで行う場合、TvRockのタスク削除に不具合があったのを修正

　○復帰処理をタスクスケジューラで行う場合、環境によってアカウント・パスワードが必要に
　　なるので設定画面にタスク実行のアカウント・パスワードを設定できるように追加

　○TvRock番組表・ローカルからのアクセスを認証無効にできるように追加
　　インテリジェント・TvRock番組表から"ローカルアクセスは認証を必要としない"で
　　認証有効時でもローカルアクセスは認証させないように設定できるようにしました。

　○TvRockログ・ダイアログ初期化の不具合の修正、ログ表示の改良


2008/3/29
TvRock Ver 0.9h
------------------------------------
　○チューナーデバイスを２つにしてWチューナーを搭載
　　チューナーデバイスを単体から２つへ変更。
　　今までのチューナーはチューナーAへ改名。
　　更にチューナーBのデバイスを搭載しました。
　　チューナーアプリケーションはそのまま両デバイスで使用できますが、
　　同じアプリケーションを同時に２つのチューナーで使用することはできません。

　○チューナーが２つになったためデバイスの並び・レイアウトを変更しました。

　○不利男 Bのアプリケーションの追加
　　Wチューナー体制にするために新たに"不利男 B"のアプリケーションを追加しました。
　
　　チューナーA　・・・　不利男
　　チューナーB　・・・　不利男 B
　　（この逆の設定も可）

　　に設定させるとWチューナーでの視聴・録画が行えます。
　　プラグインもWチューナー対応になっているため
　　異なるデバイスとしてそれぞれが機能します。
　　Rockバーの操作もデバイスのチューナーA・チューナーBで
　　切り替えてそれぞれ独立して動きます。

　　注意：不利男が２台ないと使用できません。
　　　　　不利男View1.8以降でないと動作しません。
　　　　　アプリ終了時に片方のアプリがエラーになるため
　　　　　今のところW録はお勧めできません。
　　　　　（アプリケーション立ち上げっぱなしだと大丈夫かも…）
　　　　　コンピュータで別けてのマルチ録画の方が今のところお勧めです。

　○上記のため不利男の片側が録画中の場合はアプリケーションを終了させない設定を仮追加
　　設定画面で不利男欄から"片側が録画中の場合はアプリを終了しない"で設定できます。

　○連携録画の対応
　　マルチコンピュータ・マルチデバイスによる連携録画に対応しました。
　　各デバイスの設定欄には連携録画の欄があり、第一候補と第二候補の
　　設定ができるようになっています。
　　リピート・キーワード検索・番組追従時に番組が登録された時点で
　　各デバイスは重複チェックを行い、重複しているようであれば
　　連携録画の第一候補へコンピュータおよびデバイスを変更します。
　　第一候補も重複しているようであれば第二候補へコンピュータ・デバイスを変更します。
　　マルチ録画へのインテリジェントなシステムとして稼動させることができると思います。

　　なお、今まで予約が登録されているものに対しては連携録画のセッティングがされて
　　いないと思います。
　　このバージョンから新しく追加された予約から連携録画機能が有効になり
　　予約登録ダイアログの"連携録画"でその設定を切ることも可能です。

　○TvRock番組表・パラメータ取得不具合の修正
　　パラメータ取得の数が足りなくて、ブラウザによって取得がうまくいってない不具合を修正しました。

　○タスクトレイに登録されない不具合の修正
　　すいません確認できないのでよろしくお願いします。

　○不利男View・起動時のウィンドウ見失いサポート

　○各スレッドのチューニング


2008/3/24
TvRock Ver 0.9g4
------------------------------------
　○更にキーワード検索の不具合修正
　　すいません…


2008/3/24
TvRock Ver 0.9g3
------------------------------------
　○キャプチャ設定のダイアログで無反応な状態があったのを修正
　　すいません、設定変えること無かったんで気づきませんでした…

　○C:ドライのルートに"eit.ts"というファイルを作ってた不具合を修正
　　すいません、他の方のデバッグ用にONにしたままでした…
　　削除して下さい。

　○キーワード検索の・リスト選択でチェックが外れてしまう不具合修正
　　チェックは予約の無効フラグです。
　　既に登録されているものには付きませんが、新たに登録されたものは
　　チェックが外れていると無効になります。


2008/3/23
TvRock Ver 0.9g2
------------------------------------
　○TvRock番組表・metaタグの記入ミスを修正

　○同期機能・複数コンピュータ・複数デバイスによる同一番組予約ができない不具合を修正
　　同一番組を異なるコンピュータ・異なるデバイスへ複数予約する時は
　　お手数ですが同じキーワードを複数登録してください。
　　（録画パラメータとかもコンピュータ・デバイスで異なってくるかもしれないので）

　○TvRockアイコン・マウスボタン定義に予約リスト・チャンネル・視聴率ブラウザの追加

　○不利男・チャンネル設定がされていない項目でそろそろ注意を促す…


2008/3/22
TvRock Ver 0.9g
------------------------------------
　○プレビュー書き戻し処理をウィンドウ終了まで待つようにして
　　書き換えるように修正

　○キーワード検索予約・検索絞込みにサービス番号を追加
　　サイマル放送時に同じ番組が登録されてしまう不具合への解消

　○キーワード検索予約・時間と曜日の項目を追加
　　絞込みをより厳選するために時間の概念を追加

　○不利男プラグイン・追従時サービスIDの検索を意図的に外していたのを再設定

　○シャットダウン・スタンバイ・休止時にコマンド実行処理を追加
　　コマンド先頭に"!"でシャットダウン時のコマンドを実行
　　コマンド先頭に"?"で休止・スタンバイ時のコマンドを実行

　○録画予約待機時にコマンド実行処理を追加
　　コマンド先頭に"+"でキャプチャー待機時のコマンドを実行
　　コマンド先頭に"-"でチューナー待機時のコマンドを実行

　○チャンネル情報に地上波・ＢＳ・ＣＳ・ラジオの区分けを追加
　　メニュー・チャンネルリストおよび番組情報を放送波で表示できるようにしました。
　　メニュー・チャンネルリストは設定画面・詳細から"チャンネルリストを放送波で別ける"で
　　区分け表示できます。

　○予約待機時に予約を停止できない状態を変更
　　予約待機時に今までキャンセルできない状態でしたが、キャンセルできるように
　　修正しました。

　○TvRock番組表の修正・追加
　　予約登録などの細かい操作の修正
　　Digest認証の修正
　　放送波区分の追加

　○iEPG予約登録時の"〜を追加しました"が不必要な感じなので削除

　○Rockプラグのテスト
　　現状チャンネル編集ができないので動作テストでチャンネル編集(メニュー・ツール)と
　　新たなデバイスのテストのため"PCastTv for ワンセグ (ver1.15)"の
　　Rockプラグをアップ。
　　TvRockフォルダの"plug"フォルダに入れれば機能します。
　　テスト版のためTvRockのバージョン毎でないと動作しません。
　　使い方は…　各自で御自由に調べてみてください。
　　ソースはver1.0で提供します。


2008/3/14
TvRock Ver 0.9f
------------------------------------
　○不利男プラグイン・ウィンドウ操作が停止する不具合の解消
　　ウィンドウ操作がフリーズしたりする現象を無くすように修正しました。
　　これは1.7以降の不利男命令を使用しているとなる現象で
　　これを使わずにプラグイン側で処理するように変更。
　　1.7以降とそれ以前のバージョンで動作を統一するように修正しました。

　○不利男・監視スレッドを切っていると番組情報取得スケジュールがうまく機能しない不具合の修正
　　できるだけ監視スレッドは入れた状態にしておいてください。
　　なにか問題がある場合だけ切って下さい。
　　TvRockのデフォルト値は、タイムアウト8秒・エラー100です。

　○番組連続予約時のアプリケーションを終了させないようにしていた処理の不具合を修正
　　以前連続予約時にアプリケーションの終了を選択していた場合、
　　終了しないように変更していた処理がありますが、
　　それが元でスケジュールの流れをおかしくしてしまっていた不具合の修正を行いました。
　　連続予約でチャンネルが切り替わらなかったり、録画が実行されない
　　不具合が解消されると思います。

　○録画終了処理の停止リトライ機能の調整

　○録画終了後のコマンド実行でシャットダウン・スタンバイ・休止へ移行時に
　　コマンド実行を終了するまで待つように修正

　○TvRock番組表で一つの番組を異なるデバイス・異なるコンピュータで
　　複数予約できるように追加修正

　○TvRock番組表・Digest認証対応

　○時間追従時の予約ダイアログの制限項目の表示を明確化

　○TvRock番組表で番組内容を表示しないモードを追加

　○視聴率ブラウザを少し改良


2008/3/10
TvRock Ver 0.9e3
------------------------------------
　○Operaブラウザでの不具合修正

　○HTTP受信時にデバッグ用の文字出力を切ってなくて
　　バッファーオーバーフローしていた問題の修正


2008/3/9
TvRock Ver 0.9e2
------------------------------------
　○ブラウザをリリースしていなかった不具合の修正
　　TvRock終了時にエラーが出てしまう不具合です。

　○TvRockログを記録しておくように変更
　　TvRockログはファイルとして保存してなかったので
　　TvRockフォルダに"tvrock.log"として保存しておくように変更しました。

　○番組表で"今の時間"から次の時間へ移動できない不具合の修正


2008/3/9
TvRock Ver 0.9e
------------------------------------
　○ファイル名置換にファイルフィルタリングを追加
　　設定画面・各アプリケーションの設定欄に
　　"ファイルフィルタリング"という項目があるので
　　これを設定してある場合は指定した拡張子のみを
　　ファイル名置換の候補に設定します。
　　Ver 0.9dから録画フォルダを他のアプリケーションと共有しても
　　いいように考えていたのですが、同じフォルダに録画した
　　他のアプリケーションのファイルがファイル名置換
　　されてしまうという御報告を頂いた方の御要望で作成しました。

　○キーワード検索リストからの予約・TvRock番組表からの予約で
　　番組追従にチェックが付いていなかった（番組追従しない）不具合の修正

　○TvRock番組表・Basic認証を追加
　　メールでDigest認証作って欲しいとの要望だったのですが
　　ちょっと面倒だったのでとりあえずBasic認証作りました。
　　Digestの方はまたそのうち作ります･･･
　　設定画面・インテリジェントのTvRock番組表のところで
　　ユーザ名とパスワードを設定して下さい。
　　ちなみに同期通信の方は暗号化されています。

　○時間ズレの原因らしき不具合の修正
　　原因らしきものをようやく探りあてる…
　　不具合のある方は確認して頂けると助かります。
　　番組情報とかは既に取得されているとズレたままなので
　　番組情報をクリアして取得してみて下さい。
　　TvRockフォルダの"局名.prg"が番組情報なので
　　これを全て削除すると番組情報が全て無くなります。

　○同期・コンピュータ別の予約リスト表示がいまひとつ意味不明だったので２段階表示に変更

　○設定画面にヘルプの追加
　　まだあまり書いていませんが、ちょろちょろ追加していきます。

　○予約登録・アプリケーション設定を別枠化
　　アプリケーションの選択欄がありますが今はまだ機能しません。
　　後々のため…

　○不利男からのchannels.ini読み込み・局名不要文字の除去

　○TvRockの終了・スケジューラ無効時にメッセージを表示


2008/3/1
TvRock Ver 0.9d
------------------------------------
　○ファイル名置換をタイムスタンプを見て置換するように変更
　　MxCaptureも不利男も複数のファイルを出力することができるため、
　　ファイル名置換を行う対象をタイムスタンプで判断するように変更しました。
　　複数でファイルが出力されても録画終了時のファイルはどれも
　　ファイル名置換が行われると思います。

　○不利男・チャンネル情報が全く無い状態の場合、不利男からチャンネル情報を取得するように追加
　　初めて使う人だとチャンネル情報の追加が解かりづらいのと、
　　一から始めると面倒くさいという事もあるので、チャンネル情報が全く無い時は
　　不利男フォルダの"channels.ini"を取得できるようにしました。
　　インターネット上のiEPGで番組予約を行うと局名が合わなくなる可能性があるので、
　　もし新たにチャンネルが追加された場合は設定画面でチャンネルの設定を行わなければなりません。

　○TvRock番組表・リスト表示形式に対応

　○タイムゾーンを設定
　　以前使用環境によって時間がおかしくなるという話で、タイムゾーンの設定が違うのではないかという
　　推測をしたのですが、私の方ではタイムゾーンの設定はしていませんでしたが
　　これは私の環境だと設定した方がおかしくなる状態があったので（理由がわかりませんが）
　　なにもしていませんでした。
　　設定していないほうがおかしくなる可能性が大きいと思うので設定画面でタイムゾーンを
　　設定できるようにしておきました。
　　時間がずれたりする場合は試してみてください。
　　変更した場合はTvRockを再起動してください。
　　この設定は不利男プラグインにも適用されます。

　○過去の不利男Viewのバージョンでもエラーチェックをするように追加
　　不利男View Ver1.7以前ではエラーカウントのチェックをしていませんでしたが
　　できるように追加しました。
　　エラーカウントの設定で強制終了・再起動を行えるようになります。

　○デバイスアプリケーションの設定画面を変更
　　後々のため…


2008/2/19
TvRock Ver 0.9c
------------------------------------
　○TvRock番組表・キャプチャ・チューナ予約のリンクが間違っていたのを修正

　○TvRock番組表・エスケープシーケンスが大幅に間違っていたのを修正
　　WEBが壊れたり落ちてしまう原因はこれだと思います。

　○TvRock番組表・予約変更すると"予約を追加しましたメッセージ"が出ていたのを修正

　○TvRock番組表・ジャンル別表示の追加

　○TvRock番組表・手動予約によるスケジュールを表示
　　手動で予約したスケジュールも表示できるようにしました。
　　番組情報が無い人でも予約表として見れると思います。
　　ただし、番組情報取得スケジュールは表示されません。

　○ファイル名置換・ナンバリング"@NB"の桁合わせ用に""@2NB","@3NB","@4NB"を追加
　　桁合わせは各自適当な項目を設定して下さい。

　○ファイル名置換・年表記"@YY"下２桁用に""@2YY"を追加
　　年の下２桁だけ表示したい場合はこの項目を設定して下さい。

　○ショートカット定義をカスタマイズできるように設定を追加
　　設定画面・詳細からTvRockアイコンを
　　左クリック・右クリック・左ダブルクリック・右ダブルクリックの
　　動作をカスタマイズできるようにしました。


2008/2/17
TvRock Ver 0.9b
------------------------------------
　○TvRock番組表・デバイスロック時の予約アドレスが間違っていたのを修正


2008/2/17
TvRock Ver 0.9
------------------------------------
　○TvRock番組表を追加
　　WEBサービスによる番組表を追加しました。
　　番組表を見るにはTvRockで取得した番組情報が必要になります。

　　☆設定
　　　設定画面・インテリジェントから"TvRock番組表を起動する"にチェックを入れてください。
　　　チェックを入れたらアカウントとポート番号も設定してください。
　　　設定変更後はTvRockを再起動させます。

　　　TvRockが起動したらインターネットブラウザにアドレスを指定します。
　　　デフォルト設定ではアカウント"nobody"・ポート番号"8969"なので
　　　アドレスは

　　　http://localhost:8969/nobody/

　　　になります。
　　　これで番組表を見ることができるはずです。

　　　予約したい番組の下にそれぞれ"[CP]"(キャプチャ)・"[TN]"(チューナ)または"[予約]"を
　　　クリックしたら予約を行います。
　　　予約された番組の場合は"[削除]"や"[無効]"・"[有効]"が行えます。

　　　使用できるデバイスが一つしかない場合はデバイスロックをかけておいてください。
　　　不必要なデバイスの予約項目が無くなります。

　　☆外部からのアクセス
　　　自分のマシンが外からアクセスできるように設定すれば外からの予約が可能になります。
　　　外出先のＰＣやケータイ等で予約ができるはずです。
　　　外部から遮断したい場合は各自ファイアーウォールを設定して下さい。

　　☆いまのところ一つの番組を複数のデバイスで予約できるようにはなっていません。

　○番組表サイトのショートカットを作成
　　設定画面・インテリジェントの"番組表サイト"をTvRockアイコン・右ダブルクリックで
　　起動できるように追加しました。
　　TvRockアイコンから即番組表を見ることが可能です。

　　TvRock番組表ができたため、この番組表サイトのアドレスをTvRock番組表へ設定しておけば
　　閲覧・予約変更等がすぐにできて便利になります。

　○チャンネルデータが破壊されてしまう不具合の対応
　　過去のバージョンでチャンネルデータが壊れてしまう不具合があります。
　　症状の現れ方がはっきりしないため気になる部分を直してみました。
　　もしまた不具合が起きた場合は報告して貰えると助かります。

　○予約リスト・無効スケジュールを別リスト化できるように追加
　　予約リストの無効スケジュールが邪魔だと感じる人のために
　　別リストで表示できるようにしました。
　　設定画面・詳細の"無効スケジュールを別リストに"へチェックを入れてれば別リスト化されます。


2008/2/2
TvRock Ver 0.8e2
------------------------------------
　○予約が削除されない不具合修正


2008/2/2
TvRock Ver 0.8e
------------------------------------
　○予約設定・"録画終了後アプリケーションを終了"の場合、
　　次の予約が１分以内の場合はアプリケーションを終了しないように修正
　　この機能は設定画面でON/OFFできます。

　○キーワード検索予約で登録された予約を削除する場合は注意メッセージを
　　表示するように追加


2008/2/2
TvRock Ver 0.8d
------------------------------------
　○プラグインの検出方法を変更 (ver0.8bの更新)

　○不利男プラグインを最適化

　○同期時のキーワード検索でスケジュールが重複してしまう不具合の修正

　○キーワード検索予約ダイアログを整形


2008/1/29
TvRock Ver 0.8c3
------------------------------------
　○不利男監視スレッドを起動しないように設定を追加
　　設定画面・チューナー・不利男欄で監視スレッドを立ち上げないように
　　できるようチェックを追加しました。
　　チェックを付けて再起動すると監視スレッドは起動しませんが、
　　エラー処理やステータス表示等の機能が使用できなくなります。


2008/1/28
TvRock Ver 0.8c2
------------------------------------
　○チャンネル・リモコンデータが消えてしまう不具合修正


2008/1/28
TvRock Ver 0.8c
------------------------------------
　○タスクスケジューラで使用できないファイル名文字列の変換を行っていなかったのを修正

　○スケジュールでリピート時に新しくIDが割り振られなく、リピートしない不具合の修正

　○番組情報予約の登録をサービスIDはチェックせず、イベントIDだけを見るように修正
　　番組が重複する状態を無くすようにしました。

　○予約リストで時間追従は"[追]"と表示するようにしました

　○予約リスト・コンピュータ毎に予約リストを表示するようにしました
　　設定画面"予約リストの表示をコンピュータ毎に"で変更できます。


2008/1/27
TvRock Ver 0.8b
------------------------------------
　○不利男バーの表示を不利男ユーティリティーの時に操作しないように修正


2008/1/27
TvRock Ver 0.8
------------------------------------
　○TvRock・同期機能を追加
　　同期機能とはメインで使用しているTvRockと他のＰＣに常駐しているTvRockとのスケジュールを共有しあう機能です。
　　例えばメインＰＣとサブＰＣがあり、どちらにもTvRockが常駐している場合、
　　メインＰＣからサブＰＣの予約登録をしたり、逆にサブＰＣからメインＰＣの予約録画を行える機能です。
　　これを使えばＰＣを増やして録画デバイスをいくつも増やしたり、外出先から家のＰＣの録画予約が行えます。

　　[家庭内で複数ＰＣ・複数デバイスで予約を行う例]

　　　ＰＣ１（マスター）	--->　キャプチャ・MxCapture１
				--->　チューナー・不利男１
				--->　外部録画・ＨＤＤレコ１

 　　　↑↓スケジュール共有

　　　ＰＣ２（スレーブ）	--->　キャプチャ・MxCapture2
				--->　チューナー・不利男2
				--->　外部録画・ＨＤＤレコ２


　　[外出先から家のＰＣの予約録画を行う例]

　　　家ＰＣ（マスター）	--->　キャプチャ・MxCapture
				--->　チューナー・不利男
				--->　外部録画・ＨＤＤレコ

 　　　↑↓スケジュール共有

　　　仕事場（スレーブ）	---> 使用デバイス無し


　　[お友達と予約録画の共有例]

　　　お友達Ａ（スレーブ）	--->　キャプチャ・MxCapture1
				--->　チューナー・不利男1
				--->　外部録画・ＨＤＤレコ1

 　　　↑↓スケジュール共有

　　　自分・ＰＣ（マスター）	--->　キャプチャ・MxCapture2
				--->　チューナー・不利男2
				--->　外部録画・ＨＤＤレコ2

 　　　↑↓スケジュール共有

　　　お友達Ｂ（スレーブ）	--->　キャプチャ・MxCapture3
				--->　チューナー・不利男3
				--->　外部録画・ＨＤＤレコ3

　　☆同期設定
　　　設定画面・同期から自分のＰＣをマスターにするかスレーブにするかを選択して下さい。
　　　マスターはサーバ、スレーブはクライアントです。
　　　マスターモードは接続できるスレーブ数を設定できます。
　　　スレーブモードは接続するマスターのアドレスを設定して下さい。
　　　インターネットで接続する場合、固定ＩＰの方はそのままで大丈夫ですが、
　　　ＩＰが変わってしまう人はダイナミックＤＮＳ等を使い接続するマスターのアドレスが
　　　外から見れるようにしておけば大丈夫だと思います。
　　　マスターもスレーブもそれぞれポート番号とパスワードを同じ値で設定して下さい。

　　　接続した後はそれぞれスケジュールとキーワード検索・番組情報が共有・同期されます。
　　　スケジュールが更新されるまでは多少ラグがあります。
　　　番組情報が全て更新されるまでは少し時間がかかります。

　　☆予約する
　　　接続した状態になると予約登録ダイアログに接続したコンピュータ名が表示されるようになります。
　　　キーワード検索の予約設定も同様です。
　　　各々予約録画を実行したいコンピュータ名・録画デバイスを指定して予約録画を登録します。

　　　他のコンピュータの予約を行った場合はメニューの予約リストから
　　　予約情報の先頭にその予約先のコンピュータ名が表示されます。
　　　現在操作しているＰＣが予約先の場合はコンピュータ名は表示されません。

　　　スレーブにはデバイスが無く、予約登録しか行わない場合は
　　　設定画面・同期のスレーブ欄に"予約登録時はマスターをデフォルト"にチェックを入れれば
　　　予約登録はマスターのコンピュータがデフォルトになります。

　　☆注意
　　　○３文字以下のコンピュータ名のマシンは使用できません。
　　　○TvRock設定は各々のマシンで行う必要があります。
　　　○同期機能はまだテスト版です。

　○番組情報タイトルでファイル名に使用できない文字が含まれる時があるので
　　リネーム時に使用できない文字を全角に変換するように修正

　○不利男プラグイン・視聴および録画時にその局の番組情報を自動取得するように追加
　　視聴中や録画中にそのチャンネルの番組情報を取得し、全て取得した時にTvRockの番組情報を
　　更新するように追加を行いました。
　　視聴中・録画中でも番組情報更新・キーワード検索予約等が自動で行われ、
　　番組情報取得スケジュールも更新されていない番組情報だけを取得するようになり
　　取得時間が短縮されます。
　　時間情報が変更されている場合は時間を修正し、番組情報・時間追従・Aの時間追従を行います。
　　不利男view Ver1.7以上であれば設定画面・チューナー欄で録画時に番組情報を更新しないように
　　設定できます。

　○番組情報・時間追従を追加
　　予約登録時の"番組情報・時間追従"にチェックを付ければ時間追従が行われます。
　　メニューの番組リスト・キーワード検索予約からの予約追加はデフォルトでチェックが付きます。
　　TvRock Ver0.8以前から予約登録したものにはチェックが付いていませんので必要であれば
　　予約を修正してください。
　　また、メニューの番組リストの予約かキーワード検索予約からの予約でなければ番組追従は行えません。

　　@予約録画開始時の追従（現在までに取得できている番組情報によるもの）
　　　予約時間開始と同時に現在まで取得できている番組情報と予約情報を照合して、
　　　時間が違えば修正を行います。
　　　待機時間中に更新できればそのまま終了できますが、録画を開始していると
　　　それまでのファイルが出来てしまう可能性があります。
　　　このためなるべく待機時間が長いほうが不都合無く追従できます。

　　A通常番組情報取得時の追従（番組情報を自動取得終了時・または番組情報取得スケジュール終了後によるもの）
　　　番組情報が更新された場合、予約している時間と番組情報の時間が合わない場合に
　　　時間調整を行うように追加しました。
　　
　　本来@だけで時間追従ができるはずだったのでメール頂いた方にこのAの機能を付けないような事書いてしまいましたが、
　　よく考えたら他のデバイスでは一度予約したら時間追従ができなくなってしまうため
　　この機能を追加することにしました。
　　（当然他のデバイスでは完全な時間追従ができません。
　　　時間が変更されていても最新の番組情報が取得できているかわからないからです。
　　　他のデバイスでできるだけ追従させたい場合は録画予約の前に不利男を視聴する（番組情報を取得する）
　　　録画予約を入れれば追従できると思いますが面倒くさいです）

　　ちなみにまだ時間変更・延長された番組に対する時間追従が正しくできているかどうか試せていません。
　　デバッグで時間変更してためしているだけなので
　　うまくいってない場合はまたフィードバックお願いいたします。

　○番組追従時に終了時間が調整できなくなってしまうため録画終了時間を追加
　　予約登録ダイアログ・終了時間＊＊秒後で録画終了時間を調整できるようにしました。
　　番組情報の時間いっぱいに番組が放送されている場合にこの値で終了時間を調整させることができます。
　　このため録画終了時間に秒数を指定できるようにしていたのを廃止しました。

　○不利男プラグイン・番組情報のタイトル・番組内容の長い文字列が取得できていなかったのを修正

　○不利男プラグイン・番組情報取得時の外字の取り込み方がおかしかったのを修正

　○Rockバーに不利男のステータスを表示するようにしました (不利男View ver1.7以降)

　○不利男プラグイン・ストリームが一定以上流れない場合に強制終了する時間を
　　設定画面・チューナー欄で秒数を指定できるように追加

　○不利男プラグイン・エラー数が一定以上カウントした時に不利男Viewを強制終了・再起動するように追加 (不利男View ver1.7以降)
　　設定画面・チューナー欄でエラーカウントを指定できます。
　　エラーが頻発した時のためのものです。（謎のカクカク現象用）
　　録画中の場合にはこの処理を行いません。
　　使用しない場合は設定画面でエラーカウントの数字を大きな値に設定してください。
　　録画予約で待機時間中にこれを検出できれば安定録画に役立ちます。
　　（待機時間は長めであった方がより検出しやすいです）

　○インテリジェント・ザッピングモードを多少修正

　○不利男View　Ver1.7以前では終了処理が少し怪しいかもしれません


2008/1/12
TvRock Ver 0.7c
------------------------------------
　○ファイル名置換フォーマットは月と時が先頭なので桁あわせしてなかったのですが、
　　必要そうなので２桁揃いにしました。

　○チューナー及びリモコンのチャンネル選択後のウェイトが保存されていなかったのを保存するように修正しました。

　○uxtheme.dllを元々遅延読み込みしてたのですが、WIN2Kの環境が無くなってしまってたので
　　確認せずほっぽらかしたままでした。
　　修正してみましたが遅延読み込みがうまくいってなかったらまた教えて下さい。

　○キーワード検索の対象に番組内容が含まれていなかったのを修正しました。
　　詳細キーワードで番組内容も検索対象に含まれます

　○番組情報の外字をフラグ化。
　　番組検索用にフラグ化してあるため文字とは別の扱いにしてあります。
　　ただ、局によって外字の扱いがまちまちなのであまり使えないかもしれません…

　○上記によりキーワード検索から放送種別を選択できるように追加

　○録画終了後アプリケーションが終了するかしないかわかり辛いので予約リストに
　　[↓]　・・・　終了
　　[←]　・・・　たち上げたまま
　　で表記するように追加

　○不利男Viewがプレビュー無しで終了した場合、Window情報がクリアされて終了してしまうみたいなので
　　Window情報を記録して終了時に書き込むように追加
　　これでもウィンドウが見えない位置にあるような位置にある場合はRockバーのなにも無い場所を
　　ダブルクリックしてフィッティングを利用して表示させてみてください。

　○不利男プラグイン側でストリームが８秒以上流れない場合不利男Viewを強制終了するようにした監視スレッドを追加

　○不利男プラグインでバージョンチェックをとりあえず外し、かつ古い不利男Viewでも動作するようにプロうグラムを追加。
　　不利男Viewのどのバージョンでも動作するようにしました。
　　このため新しく追加されたコマンドに対するプログラムはまだ追加していません。
　　のち程追加します。
　　（おそらく1.57くらいまでは正常に動くかも)

　○不利男とのやりとりで同期してる部分が増えてたので削りました。
　　不利男Viewが固まるとTvRockまで停止してしまう状態をなるべく無くすようにしました。
　　まだ番組情報取得関係で同期してる部分がありますが、そのうち無くすようにします。

2007/12/29
TvRock Ver 0.7b
------------------------------------
　○自動予約検索で勝手にナンバリングされていたのを修正。

　○キーワード検索予約のダイアログが大きいみたいなので縦幅を少し切り詰めてみました


2007/12/28
TvRock Ver 0.7
------------------------------------
　○番組情報取得スケジュールの追加 （不利男のみ）
　　番組情報を取得できるように追加しました。
　　視聴できる環境でセッティングされていれば　インテリジェント -> 番組情報取得　で
　　番組情報取得スケジュールを開始し、番組情報が蓄えられます。
　　（不利男のプラグインは新しいバージョンで置き換えてください）

　　☆番組情報取得スケジュールは基本的にチューナーデバイスの番組録画予約と同じ状態で動作します。
　　　この番組情報取得スケジュールをスケジューリングしたい場合は
　　　予約登録ダイアログで"番組情報スケジュール"にチェックを入れます。
　　　この"番組情報取得スケジュール"にチェックを入れた状態で登録をすると
　　　番組情報を取得するための予約になります。
　　　リピートや録画のみ（視聴しない）等のオプションも有効になるので
　　　番組情報取得スケジュール用にカスタマイズしてみてください。

　　☆通常の番組予約と同じなので、スタンバイ状態 -> 番組情報取得 -> スタンバイへ移行　といった
　　　流れも可能です。

　　☆各チャンネルの番組情報は前回の取得から一定以上の期間が経過しないとそのチャンネルの番組情報を取得しません。
　　　設定画面・詳細の"番組情報取得条件"欄の設定から各々設定して下さい。
　　　例えば"番組情報取得条件"を"２日以上"に設定した場合、前回の取得から２日以上経たないと
　　　そのチャンネルの番組情報は取得しません。
　　　チャンネル毎に判断しているのは、視聴中・録画中も日数が経過していれば自動取得するように
　　　するためです。
　　　（まだ視聴中・録画中の自動取得は対応していません。そのうち対応します・・・）

　　☆番組情報取得スケジュールは基本的に予約時間を３０分に設定してあります。
　　　３０分待たなくても情報収集が終了した時点で予約は終了になります。
　　　（３０分もかかることは無いと思いますが、ある程度の目安です）

　　☆リピート設定や他の予約から番組情報取得スケジュールと他の番組予約が重複してしまった場合は
　　　番組情報取得スケジュールの予約を無効状態へ変更します。
　　　リピートがかかっている場合は予約時間終了後、再び予約を有効にして次回へスケジュールし直します。

　　☆全く放送がされていない状態だとその局の番組情報は取得できません。
　　　深夜〜明け方くらいの時間は避けた方が良いかもしれません。
　　　（番組情報が取得できないだけで他に問題はありません）


　○チャンネルリストの項目追加
　　番組情報が蓄えられた状態になると、メニューのチャンネル欄に現在放送中の番組が表示されます。
　　更に各チャンネルから取得されている分の番組一覧が表示され、そこから予約登録が可能になります。
　　番組にチェックを付ける感覚でそのまま予約登録可能です。

　　これらの情報表示はデフォルトでＯＮになっています。
　　設定画面・詳細の"チャンネルリストに番組情報表示" "チャンネルリストから予約可能に"　で
　　それぞれＯＮ・ＯＦＦを切り替えることが出来ます。


　○キーワード検索予約
　　番組情報が蓄えられた状態になるとキーワード検索予約が行えるようになります。
　　指定したキーワードを登録して自動検索・録画予約ができます。

　　☆インテリジェント -> キーワード検索予約を開いてください。
　　　ダイアログ上段は検索結果の表示。
　　　中断は検索絞込みの設定
　　　下段は録画予約用の設定に分別してあります。

　　☆まずタイトルキーワードに調べたい単語を入力します。
　　　リターンキーまたは予約候補検索で検索結果が上段に表示されます。
　　（表示された結果をダブルクリックすると予約登録が行えます）
　　　他にもチャンネル・ジャンル・録画設定をそれぞれ指定します。

　　　一通りの検索候補が決まったら"自動予約検索リストへ登録"を押します。
　　　下段の"自動予約検索リスト"に今指定したキーワードと録画設定が追加されます。

　　　自動予約検索リストのをクリックすると指定行のキーワードを編集できます。
　　　一通り設定が終わったら"設定終了"ボタンで終了します。
　　　予約リストに指定した検索結果がスケジュールとして反映されます。

　　☆ある予約検索の項目が不要になった場合は自動予約検索リストの行を指定して
　　　"削除"ボタンを押します。
　　　設定を終えると予約リストに今削除した予約検索のスケジュールが削除されます。

　　☆番組情報スケジュールとキーワード検索を合わせて使えば
　　　自動でオートアップデートして番組情報取得->予約検索登録が行われます。

　　☆毎週時間がずれるような番組がある場合は、現在の週間の予約を削除して
　　　予約検索で更新していった方が良いかもしれません。



2007/12/16
TvRock Ver 0.6g
------------------------------------
　○予約登録ダイアログがまだ相当おかしかったので修正

　○Rockバーと不利男プラグインの項目追加


2007/12/10
TvRock Ver 0.6f
------------------------------------
　○iEPG登録時にタスクスケジューラの内容が更新されていなかったのを修正

　○予約登録で終了時間がおかしくなっていた部分を修正

　○不利男ユーティリティに対応してみました
　　設定画面チューナーアプリの選択で使用環境に合わせて設定して下さい。

　○設定画面ダイアログを少し大きくしてみました
　　環境によって画面が乱れている場合はまた教えて下さい。


2007/12/2
TvRock Ver 0.6e
------------------------------------
　○1.61用
　　ちなみにRockバーで同じ局を選択すると音声切り替えになっています。
　　

2007/12/2
TvRock Ver 0.6d
------------------------------------
　○安定化対策その１
　　チューナーおよびリモコンデバイスそれぞれにチャンネル送信後のウェイトを設定。
　　設定画面、それぞれのデバイスで時間を設定できるようにしました。
　　ウェイト中はスケジューラが停止し操作は行われません。
　　チャンネル変更およびチャンネル変更後の録画ミスをしないための対策です。
　　アプリケーション起動時のウェイト、チャンネル変更後のウェイトはスケジューラが停止します。
　　このため、待機時間が多めに取っていない場合は録画時間へ食い込んでしまうことがあるので
　　待機時間はなるべく多く取れるようにして下さい。
　　待機時間０でも大丈夫ですが、この場合は当然録画時間に食い込みます。

　　待機時間０の場合の流れ：

　　　[アプリケーションが起動していなければ起動・アプリケーション後のウェイト]
　　　　　　　　　　　　　　　　　　↓
　　　　　　　　　[チャンネル選択・チャンネル選択後のウェイト]
　　　　　　　　　　　　　　　　　　↓
　　　　　　　　　　　　　　　　　[録画]

　　上記のような即録の場合、不利男はチャンネル選択後のウェイトが十分でないと録画がうまくいかない場合があると思います。
　　ある程度チャンネル選択後のウェイトは入れておいてください。

　○ファイル名置換フォーマットの追加
　　ファイル名置換の名前の付け方について色々な意見があると思いますので
　　フォーマットで決められるようにしました。
　　この変更のため"ファイル名に日付を挿入"・"ファイル名に局名挿入"の設定を削除しました。
　　設定画面"ファイル名置換フォーマット"で自由にフォーマットを設定して下さい。
　　（":"や"*"等、システムに依存する文字は使用できないので気をつけて下さい）

　　@TT　…　番組タイトル
　　@SB　…　サブタイトル （サブタイトルがiEPGに無い場合は表示されません)
　　@NB　…　ナンバリング
　　@CH　…　局名 （選局されていない場合は表示されません)
　　@YY　…　２４時間表記・年
　　@MM　…　２４時間表記・月
　　@DD　…　２４時間表記・日
　　@SH　…　２４時間表記・開始時間・時
　　@SM　…　２４時間表記・開始時間・分
　　@SS　…　２４時間表記・開始時間・秒
　　@EH　…　２４時間表記・終了時間・時
　　@EM　…　２４時間表記・終了時間・分
　　@ES　…　２４時間表記・終了時間・秒
　　@WK　…　２４時間表記・終了時間・曜日
　　@WE　…　２４時間表記・終了時間・曜日・英語表記
　　@yy　…　２８時間表記・年
　　@mm　…　２８時間表記・月
　　@dd　…　２８時間表記・日
　　@sh　…　２８時間表記・開始時間・時
　　@sm　…　２８時間表記・開始時間・分
　　@ss　…　２８時間表記・開始時間・秒
　　@eh　…　２８時間表記・終了時間・時
　　@em　…　２８時間表記・終了時間・分
　　@es　…　２８時間表記・終了時間・秒
　　@wk　…　２８時間表記・終了時間・曜日
　　@we　…　２８時間表記・終了時間・曜日・英語表記

　　例：　@TT@SB@NB [@CH] @yy年@mm月@dd日　@sh時@sm時@ss秒〜@eh時@em時@es秒 (@wk曜日)


　○チャンネル切り替えをプラグイン依存に変更 （不利男）



2007/11/30
TvRock Ver 0.6c
------------------------------------
　○もしものために…
　　プラグインバージョンを用意しておきます。
    1.57で使用する場合は0.6bか0.6cどちらでも使用できると思います。


2007/11/27
TvRock Ver 0.6b
------------------------------------
　○とりあえず応急措置
　　放り込まれているプラグインは要りません。削除して下さい。


2007/11/26
TvRock Ver 0.6a
------------------------------------
　○TvRockスケジューラとタスクスケジュラーとのハイブリッド化
　　設定画面"復帰処理をタスクスケジューラで行う"にチェックを入れると
　　スタンバイ・休止処理の復帰をタスクスケジューラで行います。
　　TvRock内部の復帰タイマーは使用しません。
　　タスクスケジューラとの同期を取る場合はこれにチェックを入れて下さい。

　○ログイン時に起動で起動しない状態の不具合修正

　○予約登録ダイアログ表示の修正



2007/11/25
TvRock Ver 0.6
------------------------------------
　○Rockバーの追加
　　簡単に言うとメインメニューのツールバーです。
　　タスクトレイのTvRockアイコンを左ダブルクリックして表示・非表示を行います。
　　電源・録画・停止・静止画・チャンネル切り替え・デバイス切り替えを
　　ツールバー上で行えます。
　　チャンネルを切り替える時はダブルクリックで行ってください。
　　Rockバーの何もないところを掴んで移動、右クリックでメニュー。
　　ダブルクリックで対象アプリのウィンドウサイズ切り替えを行います。
　　対象アプリは近くの隅に吸い付き、ウィンドウサイズを数段階切り替え可能です。
　　左ダブルクリックで１６：９、右ダブルクリックで４：３表示です。
　　MxCaptureの場合はウィンドウスタイルを変更してフレーム無しの状態で使用してみて下さい。
　　真ん中クリックはRockバーを常に最前面に表示・通常表示の切り替えです。

　　私はなるべくテレビ画面以外は画面上になにも表示したくない考え方なのですが、
　　操作がメニューだけでは不便なので作りました。
　　なのですぐ表示・非表示できるような操作にしてありますし、Rockバーもなるべく
　　小さめに作ってあります。
　　一応スキンも変更できるので、TvRockフォルダの"rockbar.bmp"を書き換えれば
　　オリジナルスキンで使用できます。

　○予約録画および設定ダイアログの不具合修正
　　iEPGの不具合と言われていましたが、おそらくそれらは
　　予約登録ダイアログの操作関係の不具合です。
　　以前直したつもりなのですが（というかウチではまだその現象が起きないのですが）
　　環境によって起きてしまうのはよろしくないですね。
　　少しやり方を変えてみたのですが、またダメだったらまた教えて下さい…

　○予約登録の時間調整を細分化を行いました

　○ファイル名置換機能に局名と日付を入れられるようにしました

　○電源管理の修正
　　起動時・終了時にしか電源管理していなかったのを、スケジューラ内で常に
　　監視するように修正しました。
　　スタンバイおよび休止の不具合が改善されると思います。

　○上記のため録画時にディスプレイ電源をONにできるように修正
　　録画時にディスプレイの電源が切れていた場合、ONに出来るように
　　設定項目"録画時にモニタ電源をON"にチェックを入れれば
　　モニタ電源が入るようになります。

　○待機時にアプリの使用するフォルダへ書き込みテストを行えるようにしました
　　使用する場合は設定画面"待機時に書き込みテストを行う"にチェックを入れて下さい。

　○デバイス選択にロックをかけられるようにしました
　　使用するデバイスが一つしかない場合、デバイス選択は無意味になるため、
　　設定画面"デバイス選択をロック"にチェックを付けるとデバイス選択ができないようになります。
　　操作ミスでデバイスを選択しないようにするための措置です。

　○録画時にチャンネル操作されないようにロックをかけました



2007/11/20
TvRock Ver 0.5d
------------------------------------
　○インテリジェント機能：エンコタイマーの追加
　　外出の際や寝る間際にPCにエンコ作業をさせておきたいが、エンコが終わったら
　　PCの電源を落としたいという方のため用。

　　設定画面・インテリジェントのタブにCPU使用率が表示されています。
　　上の使用率が現在のCPU使用率、下が５分間のCPU使用率平均値です。
　
　　まず、エンコ作業を始めてください。
　　次に、メニュー・インテリジェントの欄に"エンコタイマー"・シャットダウン・スタンバイ・休止が
　　それぞれあります。
　　この項目いずれかをONにするとTvRockアイコンが紫になります。

　　と、同時に５分間のCPU使用率平均が１００％から始まり、段々と現在の平均値まで下がっていきます。
　　エンコ作業中は負荷がかかっているため、エンコ作業が終わって数分までは小さくなることはないと思います。
　　
　　設定画面の"平均使用率＊%以下で移行"に設定した値以下のCPU使用率平均値になれば
　　シャットダウン・スタンバイ・休止へそれぞれ移行するようになります。
　　こちらで試した結果、割とスムーズにエンコ作業終了をして電源処理してくれたので、
　　結構使えるのではないかと思います。

　　ちなみにシャットダウンはそのまま移行。
　　スタンバイ・休止の場合は次の予約があり、時間が５分以上空いてないと移行しないので
　　気をつけてください。

　○御希望の項目をいくつか追加
　　デフォルト値の設定や、シャットダウン・スタンバイ・休止移行時の問い合わせ（まんまパクリ）を追加

　○メニューの予約リストや予約登録ダイアログの時間表示が少しおかしな点を修正しました。


2007/11/19
TvRock Ver 0.5c
------------------------------------
　○予約時間の不具合のするどい指摘があったので修正しました。
　　また、少しあいまいになっていた項目も修正。

　（後の番組優先の場合）
　　録画中の状態と次の予約の待機時間が被っていた場合、
　　次の予約の待機が始まり、録画中の番組は停止されます。
　　待機時間中は、電源ON・アプリの起動・チャンネル切り替えが行われるため、
　　なるべく間をとっておいた方がよいと思います。
　　設定画面・アプリケーション起動時のウェイトもこの中に含まれます。

  ○スタンバイ・休止が次の予約時間が０秒の時に以降してしまう不具合を修正。
　　ちなみに録画終了後、次の予約がなければスタンバイ・休止は移行しません。
　　この場合、システムを落とす手段はシャットダウンを選ぶしかありません。

　○予約登録・待機時間・録画開始＊秒前を５秒単位に設定

　○予約登録・"録画のみ （視聴を行わない）"に対応　(全てのアプリ共通)
　　ただし、予約録画でアプリケーションを起動した時のみです。
　　起動した状態では行えません。
　　予約録画の設定で"録画終了後アプリケーションを終了"になっていればプレビューは以前の
　　状態に戻ります。
　　終了させなければプレビュー無し状態のままです。

　○不利男だと録画開始時のファイル監視がうまくいっていないのを修正


2007/11/18
TvRock Ver 0.5b
------------------------------------
　○リモコンのみメニュー・チャンネルの選択ができていたのを
　　普通に使えるように修正


2007/11/18
TvRock Ver 0.5a
------------------------------------
　○不利男用にチューナーデバイスの追加

　○不利男に対応 (Ver1.44で作成)
　　☆プラグインはフォルダ設定が正しく行われれば自動でインストールします。
　　☆TvRockがコントロールするので不利男のメインウィンドウを設定画面で消すことができます。
　　☆チューナー・アプリケーションのプロセス優先度ですが、不利男が内部で切り替えているようなので
　　　設定しても無意味かと思われます。
　　☆予約登録の"録画のみ"はまだ対応してません。

　○上記のため設定画面を整理しました

　○設定画面にプロセスの項目を追加
　　録画を終了した時にそのファイルへの後処理を行えるよう
　　バッチ処理機能を追加しました。
　　また、デバイス毎に処理できるようにしてあります。
　　キャプチャデバイスで後処理をする場合は先頭に"@"を。
　　チューナーデバイスで後処理をする場合は先頭に"$"を付けてください。

　　簡単な例で言えば、チューナーデバイスでファイルコピーを行う場合、
　　"録画終了後に以下のコマンドを実行する"にチェックを付けて以下のように書きます。

    ------------------

　　ふぁいるこぴー  (コメント)
　　$copy "%1" "%3\%2.copy"

    ------------------

    "%1"はファイル名フルパス。
　　"%2"はファイル名。
　　"%3"ファイルパス。
    "%4"は拡張子を除いたファイル名です。

    また、実行パスはTvRockのワークフォルダに設定されています。
　　オリジナルのプログラムをTvRockのフォルダに突っ込んで実行させることが可能です。


　○外部録画機能でキャプチャが使用するポートが電源ON/OFFを使用できなく
　　なっていたのを修正。
　　たとえば、外部録画機能 -> "有効"、キャプチャで使用するデバイス -> "外部録画・B"で、
　　予約登録で電源ONとOFFを指定した場合は外部録画Bの電源をON/OFFしキャプチャします。 

　○昔の名残でスケージュラから電源管理を行っていたのをメインの方で行うよう修正

　○チューナーデバイスまで加わったため、内部がかなり訳わからなくなってきました。
　　絶対にどこかおかしなところが出てくると思うので、どなたかデバッグの程よろしくお願いします。



2007/11/13
TvRcok Ver 0.4
------------------------------------
　○タイマーをイベントタイマーに変更
　　他のアプリの処理が重いとTvRockへのタイマーが回ってこず、録画失敗してしまう可能性があるため
　　タイマをイベントタイマに変更しました。
　　プロセスの優先度を上げるという手もありますが、たかが予約ツールなのであえて上げていません。

　○録画アプリケーションという項目を無くしキャプチャデバイスへ変更
　　今まで使用していた録画用のアプリケーションはキャプチャデバイスを
　　一つとしてまとめ、他に外部録画を４本設定しました。
　　キャプチャデバイス中の各アプリケーション選択は、設定画面の
　　キャプチャアプリケーション選択欄から選んで設定してください。
　　キャプチャアプリケーションを使用しないことも可能です。

　○マルチ予約録画対応
　　キャプチャを一つ時間軸の予約とし、他に外部録画４本を追加して
　　合わせて５本のマルチ録画へ対応しました。
　　ただし処理は一つのスレッドで実行しているため、録画の開始・終了に時間がとられると
　　重複している予約にも遅れ等の影響がでる可能性があるので注意してください。
　　外部録画有効の場合、各デバイスの予約は予約リストにデバイス名が表示されます。
　　メニューから選択できるキャプチャおよび外部録画デバイスの選択はそれぞれ選択したデバイスを
　　メニューから操作する意味を持っています。
　　変更すると操作がそのデバイスへ移行するため不用意に変更しないように注意する必要があります。
　　外部録画に関しては外部録画の項目を参照してください。

　○外部録画（リモコン録画）
　　PC-OP-RS1を使用してHDDレコーダー等のビデオデッキを録画予約してしまう考え方です。
　　PC-OP-RS1には４本のポートが存在するので扱える外部のデバイスが４台あるとみなします。
　　外部録画A・B・C・DはそれぞれPC-OP-RS1のA・黄 / A・黒 / B・黄 / B・黒のポートに対応しています。
　　キャプチャ１本＋外部録画４本で５本の予約が平行して行えます。
　　外部録画を有効にするには、設定画面・外部録画の"外部録画モード"を有効にしてください。
　　これを有効にした時に録画デバイスの基本操作（電源ON/OFF・録画開始/停止等）のリモコン学習が
　　できるようになります。
　　また、今までリモコンで使用していたチャンネルデータが全く別になるため注意してください。
　　リモコン情報は全て外部録画用に記憶し直さなければなりません。
　　（外部録画モードを無効にするとまた元の状態に戻ります。無効時のリモコンデータは失われません）
　　使用している台数１〜４台分のチャンネルを学習させる必要があります。
　　チャンネル設定の"キャプチャデバイス"選択欄はキャプチャが使用する外部録画デバイスを指定してください。
　　
　　レコーダーに予約機能があるのになぜ外部録画機能の必要性があるだろうか？という疑問があると思いますが、
　　これから作るインテリジェント機能と同期機能に意味を持たせる予定です。

　○クイック録画の追加
　　スケジュールからタイマ録画というのも変だったので
　　メニューのタイマー欄から即録画できる"クイック録画"コマンドを追加
　　設定画面のデフォルト録画時間に設定された時間だけの録画を即開始します。
　　これを実行してから -> "○録画時間変更設定"で時間を変更してください。

　○録画時間変更設定
　　現在録画されている番組の終了時間をタスクトレイのアイコン・中クリックで
　　変更できます。
　　録画中に中クリックを押すと録画時間が表示されます。
　　マウスのホイールスピンで録画時間を増減できます。
　　もう一度中クリックで消えます。

　○ダイアログの表示がおかしくなっていたのを修正

　○録画アプリを起動していないと即録画できない不具合を修正

　○時間調整の項目を少し増やしました

　○時間調整項目の録画停止を実行するとナンバリングが進まない不具合を修正

　○予約登録ダイアログをもう少し使い勝手を良くさせました

　○キャプチャウィンドウ検索での不具合を修正

　○インテリジェント機能：タイムキーパーの追加
　　予約録画の時間情報を表示します。
　　メニューのツール欄から　
　　
　　タイムキーパー（常時）
　　タイムキーパー（録画時）

　　を選択できます。
　　常時に設定した場合は予約が入っているデバイスを常に表示し続けます。
　　録画時は待機時間から録画終了時まで表示し続けます。
　　バルーン表示が煩わしい場合はバルーン表示を切り、タイムキーパーで
　　表示することをお勧めします。

　○インテリジェント機能：視聴率ブラウザを搭載
　　設定画面・インテリジェント設定から"TvRockサーバから情報を受け取る"にチェックを入れると
　　TvRockサーバから実況板視聴率情報を取得します。
　　メニュー・インテリジェントから"視聴率ブラウザ"を選択すると視聴率ブラウザが現れます。
　　実況板から割り出した視聴率情報を現在・一日・週間・年間等の視聴率情報を閲覧できます。
　　TvRockサーバは５分毎に視聴率情報を更新し、少し遅れてその情報を取得するため
　　視聴率の情報には数分の時間の遅れがあります。

　○インテリジェント機能：ザッピングモード（視聴）
　　"TvRockサーバから情報を受け取る"状態になると現在一番視聴率の高い番組へTvRockが
　　チャンネルを自動で切り替えるようになります。（要リモコン）

　　インテリジェント設定の"ザッピングチャンネル設定"で現在設定してあるステーションと
　　視聴率のチャンネルを合わせて下さい。
　　この設定が行われることによりザッピングモードが機能します。
　　対応局が無い場合は空欄で大丈夫です。設定されてないチャンネルが視聴率１位の場合でも
　　飛ばして２位の番組へ…と選局します。
　　録画中および次の番組の予約が５分以内にある場合はザッピングを行いません。

　○インテリジェント機能：ザッピングモード（録画）
　　インテリジェント設定画面で指定された視聴率以上の番組があった時、その番組を直ちに
　　録画開始します。
　　ザッピングモード（視聴）と併用できますが優先順位はザッピングモード（録画）の方が上です。

　○テレビ番組表ショートカット
　　設定画面・インテリジェント設定の"テレビ番組表のサイト"にアドレスを指定することにより
　　自分が愛用しているテレビ番組表を表示します。
　　メニュー・インテリジェントの"テレビ番組表"からブラウザを起動します。
　　また、視聴率ブラウザにも番組表のタブで表示されます。

　○PC-OP-RS1のRemoteStationツールがスタートアップに設定してある場合、
　　TvRockをログイン時に起動するとPC-OP-RS1のDLL読み込みに失敗する可能性があります。
　　この場合RemoteStationをスタートアップから削除してください。
　　TvRockが起動した時に自動でRemoteStationツールも起動すると思います。


2007/10/22
TvRcok Ver 0.3
------------------------------------
　○設定がゴチャゴチャしてきたのでタブに変更


　○バッファロー・PC-OP-RS1によるUSB学習リモコンに対応
　　リモコン対応によりチューナーをPCからコントロールできるようになりました。
　　メニューからの選局や録画時に指定したチャンネルに選局が可能です。
　　リモコンの学習は設定ダイアログのチャンネルタブから行ってください。
　　リモコンを使用するためにはまずPC-OP-RS1のドライバをインストール
　　する必要があります。
　　( http://buffalo.jp/download/driver/multi/pc-op-rs1.html )
　　その後にTvRockのチャンネル設定で接続しているポート番号を指定、
　　チャンネル毎にリモコンの学習を行わせれば使用できます。
　　リモコンは今のところ１つのチャンネルに付き最大８つの学習パターンと
　　ウェイトを設定できます。
　　私の家のチューナーは、地上波・BS・CSのチャンネル切り替えを一回で操作できない・
　　リモコン操作の反応が遅い等の問題があるためリモコン設定の自由度を広げました。
　　例えば８チャンネルのフジテレビを設定した場合、

　　[地上波ボタン] -> [ウェイト3.0秒] -> [８ボタン]

　　というように学習させています。

　　●設定・チャンネルタブ

    PC-OP-RS1ポート番号：
　　　PC-OP-RS1が接続しているシリアルポートの番号です。
　　　適当に選択して接続されているポートを探し当てて下さい…
　　　（RemoteStationツール・RemoteStationコントローラで
　　　　リモコンの編集等のデバイス表示欄にCOM番号が表示されていると思います）
　　　この番号を選択し成功した後はドライバの読み込みと
　　　リモコン操作環境へ移行します。

　　１〜８の欄はそれぞれ学習したリモコンの内容を送信する順番です。
　　１番の内容から順に送信・ウェイトを繰り返して実行していきます。

　　チェック：
　　　リモコン学習の送信の可否です。
　　　リモコン送信せずにウェイトだけの設定も可能です。
　　　（チェックを入れてリモコンは学習されていない状態とウェイトを設定）

　　リモコン学習ボタン：
　　　ボタンを押したらリモコン学習状態へ移行します。
　　　記録ができたら「記録済み/削除」という表示になります。

　　送信後ウェイト：
　　　リモコンを送信した後に指定した時間だけ待機します。

　　送信ポート：
　　　PC-OP-RS1には４つの送信部があるため、どのポートかを
　　　選択してください。

　　●メニュー・チャンネル
　　　チャンネルを選択すると学習した内容がリモコン操作されます。

　　●録画予約・リモコンチャンネル送信
　　　チェックを付けると録画予約・待機状態時にリモコン操作されます。
　　　（リモコン有効時はデフォルトでチェックが付きます）


　○WOWOWのSD->HDの切り替わり後の録画があまりにもシビアなので
　　解像度の切り替わりタイミングを検出してから録画できるように追加
　　（MxCaptureのみ)

　　予約設定の”解像度検出時間”に時間を設定すると、録画開始時間から
　　指定した時間まで解像度が変更されるのを待ち、変更が検出されてから
　　録画開始を行います。　
　　録画開始の秒数をある程度多く取ってください。

　○iEPG登録後に登録した予約ダイアログを表示できるように追加
　　表示をするには設定画面でチェックを付けてください

　○予約リストにチャンネル表示
　　表示をするには設定画面でチェックを付けてください

　○ダイアログ位置の記憶

　○録画停止の監視の待ち方が逆だったので修正


2007/10/16
TvRcok Ver 0.2a
------------------------------------
　○録画開始・停止のリトライ機能の追加
　　録画漏れの無いようにファイル監視を録画開始・停止時に行い
　　更新が無ければリトライを行うように追加

　○録画アプリケーションのプライオリティコントロールを追加
　　設定画面で録画アプリの基本優先度を設定できます。


2007/10/14
TvRcok Ver 0.2
------------------------------------
　○タイマー機能および休止の追加
　　スケジュールにスタンバイ・休止を設定した場合は
　　次の予約番組の３分前に起動するようにタイマーを設定
　　次の予約番組が５分以内の場合はスタンバイ・休止共に移行しません。
　　メインメニューから直接スタンバイ・休止も行えます。
　　休止状態を有効にするにはコントロールパネルの電源管理から
　　”休止状態を有効にする”にチェックを入れてください。
　　（スタンバイはあまりうまくいかないかも・・・）

　○スケジュール・リピート設定にカスタムを追加
　　カスタムを選択することにより日曜から土曜までの予約パターンが定義できます。

　○チャンネルを追加
　　今のところ特に意味を持ちません。
   （PC-OP-RS1による赤外線リモコン操作予定）

　○くすのきTVHD・くすのきTVPSPのリネームタイミングを変更
　　録画終了後、５秒程おいてからリネームへ


2007/10/9
TvRcok Ver 0.1a
------------------------------------
　○リネーム機能のバグを修正
　○iEPGからの登録でデフォルト待機時間・録画開始がが反映されてないのを修正
　○バルーンヘルプを表示できないように設定項目追加
　○TvRockのワークフォルダを変更できるように
　○リネームしないように設定項目追加
　○予約リストに曜日を追加
　○予約リストを２８時間表示可能に


2007/10/8
TvRcok Ver 0.1
------------------------------------
TvRockは録画予約をするための常駐リモコンアプリです。
御使用は自己責任でお願いします。
当方はなんの責任も負いません。


設定：

　好きな場所にtvrock.exeを置き、実行させると
　自動でiEPG等のセッティングを行い、タスクトレイに常駐します。
　次回からはログイン時に自動起動するようになります。
　録画用のアプリケーション "MxCapture"、"くすのきTVHD"、"くすのきTVPSP"の
　置かれているフォルダをメニューの"設定"項目で指定させれば終了です。
　iEPGや手動で予約を行えます。
　タスクトレイ・右クリックでメニュー、
　左クリックでスケジュールの手動設定を行えます。

機能するもの：

　○手動予約登録
　○iEPGによる予約登録　
　　＊IE7ではファイルを取り出せないため読み込めないと思います
　　　直接実行できない場合は、一度iEPGをファイルでダウンロードして
　　　TvRock.exeにドラッグ＆ドロップさせれば大丈夫です。
　○録画アプリケーション(MxCapture等)の自動起動・終了
　○録画後のファイルの自動リネーム機能（番組タイトル名に置き換えます）
　　＊"くすのきTVHD"、"くすのきTVPSP”は録画を終了してもファイルがロックされている
　　　ためファイル名が変更できません。　ロックが外れれば変更されるかも・・・

機能しないもの：

　○チャンネル関係の項目はまだなにも作ってません。
　　チャンネルは色々作る項目がありすぎるので、またいつか作るかも・・・

予約設定項目について：

　タイトルおよび予約日時はそのままです。

　○ナンバリング
　　”無し”以外を選択した場合はリピート予約した回数をカウントします。
　　録画終了後にファイル名にタイトル+番号が付きます。
　　予約有効でない場合はカウントされません。
　　毎週録画しているのに今週はお休みとかいう場合に
　　予約有効チェックを外してカウントさせないようにできます。

　○待機時間
　　録画開始時間の設定時間前から、録画アプリケーションが起動していない場合は
　　起動して録画に備えます。

　○録画開始
　　録画開始時間の設定時間前から録画を開始します。

　○リピート
　　１回・毎日・毎週・隔週が設定できます。
　　ナンバリング機能と一緒に活用できます。
　　リピートする番組は録画正常終了後に番号がカウントされます。

　○予約有効
　　チェックを外すと録画も視聴も行いません。

　○視聴のみ
　　予約機能は働きますが録画を行いません。　

　○録画終了後アプリケーション終了
　　録画を終了した後、録画アプリケーションを終了します。

　○録画終了後
　　録画終了後にシャットダウン、サスペンドをそれぞれ選べます。


備考：

当方MonsterXしか持っていないため、くすのき氏の
くすのきTVHDはちゃんと動作してるのか確かめられないのですまんです。


-----------------------------------------------------------------------
ＴｖＲｏｃｋ

TvRockは自己責任の範囲で使用して下さい。
使用者がTvRockによる不利益を被ってもTvRock作者はなんの責任も負いません。
TvRockの配布は御自由でかまいませんが、
TvRock作者以外がTvRockを営利目的に使用することを禁じます。
